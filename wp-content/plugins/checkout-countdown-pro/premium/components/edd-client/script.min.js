document.addEventListener("DOMContentLoaded",(function(e){const t=document.querySelector(".ccfwoo_pro-edd-client-cred-link"),o=document.querySelector(".ccfwoo_pro-edd-client-row"),c=document.querySelector('tr[data-plugin="'+ccfwoo_pro_edd_client.slug+'"');c&&"valid"!==ccfwoo_pro_edd_client.license_status&&c.classList.add("update"),t.addEventListener("click",(function(e){e.preventDefault(),"none"===o.style.display?o.style.display="":o.style.display="none"}));const s=document.querySelectorAll(".ccfwoo_pro-edd-client-button");for(const e of s)e.addEventListener("click",(function(e){e.preventDefault();const t=this.querySelector(".dashicons");t.classList.remove("dashicons-yes-alt"),t.classList.add("dashicons-update"),t.classList.add("ccfwoo_pro-edd-client-spin");const o=this.getAttribute("data-nonce"),c=this.getAttribute("data-action"),s=this.getAttribute("data-operation"),n=document.querySelector(".ccfwoo_pro-edd-client-license-key").value,a={nonce:o,action:c,operation:s,license:n};fetch(ccfwoo_pro_edd_client.ajax_url,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"},body:new URLSearchParams(a)}).then(e=>e.json()).then(e=>{const o=document.querySelector(".ccfwoo_pro-edd-client-message");if(o&&(o.innerHTML='<span style="margin-right:3px;" class="dashicons dashicons-info"></span>'+e.data.message),!0===e.success)return t.classList.remove("dashicons-update","ccfwoo_pro-edd-client-spin"),t.classList.add("dashicons-yes-alt"),"change_beta"===s&&(this.innerHTML='<span class="dashicons dashicons-hammer"></span> Revert'),void(!0===e.data.reload&&location.reload(!1));t.classList.remove("dashicons-update","ccfwoo_pro-edd-client-spin"),t.classList.add("dashicons-dismiss")}).catch(e=>console.log(e))}))}));