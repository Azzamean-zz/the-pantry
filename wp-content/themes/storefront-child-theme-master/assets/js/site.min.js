!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(f){var n=/\+/g;function g(e){return v.raw?e:encodeURIComponent(e)}function m(e,t){var r=v.raw?e:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(n," ")),v.json?JSON.parse(e):e}catch(e){}}(e);return f.isFunction(t)?t(r):r}var v=f.cookie=function(e,t,r){var n,i,a;if(void 0!==t&&!f.isFunction(t))return"number"==typeof(r=f.extend({},v.defaults,r)).expires&&(n=r.expires,(i=r.expires=new Date).setTime(+i+864e5*n)),document.cookie=[g(e),"=",(a=t,g(v.json?JSON.stringify(a):String(a))),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("");for(var s,o=e?void 0:{},l=document.cookie?document.cookie.split("; "):[],d=0,u=l.length;d<u;d++){var c=l[d].split("="),p=(s=c.shift(),v.raw?s:decodeURIComponent(s)),h=c.join("=");if(e&&e===p){o=m(h,t);break}e||void 0===(h=m(h))||(o[p]=h)}return o};v.defaults={},f.removeCookie=function(e,t){return void 0!==f.cookie(e)&&(f.cookie(e,"",f.extend({},t,{expires:-1})),!f.cookie(e))}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?e(require("jquery")):e(jQuery)}(function(p){p.timeago=function(e){return e instanceof Date?a(e):a("string"==typeof e?p.timeago.parse(e):"number"==typeof e?new Date(e):p.timeago.datetime(e))};var r=p.timeago;p.extend(p.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,autoDispose:!0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(i){if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var a=this.settings.strings,e=a.prefixAgo,t=a.suffixAgo;if(this.settings.allowFuture&&i<0&&(e=a.prefixFromNow,t=a.suffixFromNow),!this.settings.allowPast&&0<=i)return this.settings.strings.inPast;var r=Math.abs(i)/1e3,n=r/60,s=n/60,o=s/24,l=o/365;function d(e,t){var r=p.isFunction(e)?e(t,i):e,n=a.numbers&&a.numbers[t]||t;return r.replace(/%d/i,n)}var u=r<45&&d(a.seconds,Math.round(r))||r<90&&d(a.minute,1)||n<45&&d(a.minutes,Math.round(n))||n<90&&d(a.hour,1)||s<24&&d(a.hours,Math.round(s))||s<42&&d(a.day,1)||o<30&&d(a.days,Math.round(o))||o<45&&d(a.month,1)||o<365&&d(a.months,Math.round(o/30))||l<1.5&&d(a.year,1)||d(a.years,Math.round(l)),c=a.wordSeparator||"";return void 0===a.wordSeparator&&(c=" "),p.trim([e,u,t].join(c))},parse:function(e){var t=p.trim(e);return t=(t=(t=(t=(t=t.replace(/\.\d+/,"")).replace(/-/,"/").replace(/-/,"/")).replace(/T/," ").replace(/Z/," UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2")).replace(/([\+\-]\d\d)$/," $100"),new Date(t)},datetime:function(e){var t=r.isTime(e)?p(e).attr("datetime"):p(e).attr("title");return r.parse(t)},isTime:function(e){return"time"===p(e).get(0).tagName.toLowerCase()}});var n={init:function(){n.dispose.call(this);var e=p.proxy(i,this);e();var t=r.settings;0<t.refreshMillis&&(this._timeagoInterval=setInterval(e,t.refreshMillis))},update:function(e){var t=e instanceof Date?e:r.parse(e);p(this).data("timeago",{datetime:t}),r.settings.localeTitle&&p(this).attr("title",t.toLocaleString()),i.apply(this)},updateFromDOM:function(){p(this).data("timeago",{datetime:r.parse(r.isTime(this)?p(this).attr("datetime"):p(this).attr("title"))}),i.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};function i(){var e=r.settings;if(e.autoDispose&&!p.contains(document.documentElement,this))return p(this).timeago("dispose"),this;var t=function(e){{var t;(e=p(e)).data("timeago")||(e.data("timeago",{datetime:r.datetime(e)}),t=p.trim(e.text()),r.settings.localeTitle?e.attr("title",e.data("timeago").datetime.toLocaleString()):!(0<t.length)||r.isTime(e)&&e.attr("title")||e.attr("title",t))}return e.data("timeago")}(this);return isNaN(t.datetime)||(0===e.cutoff||Math.abs(s(t.datetime))<e.cutoff?p(this).text(a(t.datetime)):0<p(this).attr("title").length&&p(this).text(p(this).attr("title"))),this}function a(e){return r.inWords(s(e))}function s(e){return(new Date).getTime()-e.getTime()}p.fn.timeago=function(e,t){var r=e?n[e]:n.init;if(!r)throw new Error("Unknown function name '"+e+"' for timeago");return this.each(function(){r.call(this,t)}),this},document.createElement("abbr"),document.createElement("time")}),function(){var l,i,d,e,t,r,n,a,s,o,u,c,p,h,f,g,m,v,y,b,w,x,C,_=[].slice,$=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1},F=window.jQuery||window.Zepto||window.$;F.payment={},F.payment.fn={},F.fn.payment=function(){var e=arguments[0],t=2<=arguments.length?_.call(arguments,1):[];return F.payment.fn[e].apply(this,t)},e=/(\d{1,4})/g,F.payment.cards=d=[{type:"elo",patterns:[401178,401179,431274,438935,451416,457393,457631,457632,504175,506699,5067,509,627780,636297,636368,650,6516,6550],format:e,length:[16],cvcLength:[3],luhn:!0},{type:"visaelectron",patterns:[4026,417500,4405,4508,4844,4913,4917],format:e,length:[16],cvcLength:[3],luhn:!0},{type:"maestro",patterns:[5018,502,503,506,56,58,639,6220,67],format:e,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"forbrugsforeningen",patterns:[600],format:e,length:[16],cvcLength:[3],luhn:!0},{type:"dankort",patterns:[5019],format:e,length:[16],cvcLength:[3],luhn:!0},{type:"visa",patterns:[4],format:e,length:[13,16],cvcLength:[3],luhn:!0},{type:"mastercard",patterns:[51,52,53,54,55,22,23,24,25,26,27],format:e,length:[16],cvcLength:[3],luhn:!0},{type:"amex",patterns:[34,37],format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"dinersclub",patterns:[30,36,38,39],format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",patterns:[60,64,65,622],format:e,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",patterns:[62,88],format:e,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"jcb",patterns:[35],format:e,length:[16],cvcLength:[3],luhn:!0}],l=function(e){var t,r,n,i,a,s,o;for(e=(e+"").replace(/\D/g,""),n=0,a=d.length;n<a;n++)for(i=0,s=(o=(t=d[n]).patterns).length;i<s;i++)if(r=o[i]+"",e.substr(0,r.length)===r)return t},i=function(e){for(var t,r=0,n=d.length;r<n;r++)if((t=d[r]).type===e)return t},c=function(e){for(var t,r=!0,n=0,i=(e+"").split("").reverse(),a=0,s=i.length;a<s;a++)t=i[a],t=parseInt(t,10),(r=!r)&&(t*=2),9<t&&(t-=9),n+=t;return n%10==0},u=function(e){var t;return null!=e.prop("selectionStart")&&e.prop("selectionStart")!==e.prop("selectionEnd")||!(null==("undefined"!=typeof document&&null!==document&&null!=(t=document.selection)?t.createRange:void 0)||!document.selection.createRange().text)},x=function(e,t){var r,n,i,a,s;try{n=t.prop("selectionStart")}catch(e){n=null}if(a=t.val(),t.val(e),null!==n&&t.is(":focus"))return n===a.length&&(n=e.length),a!==e&&(s=a.slice(n-1,+n+1||9e9),r=e.slice(n-1,+n+1||9e9),i=e[n],/\d/.test(i)&&s===i+" "&&r===" "+i&&(n+=1)),t.prop("selectionStart",n),t.prop("selectionEnd",n)},m=function(e){var t,r,n,i,a,s;for(null==e&&(e=""),i="",a=0,s=(t=e.split("")).length;a<s;a++)r=t[a],-1<(n="０１２３４５６７８９".indexOf(r))&&(r="0123456789"[n]),i+=r;return i},g=function(e){var t=F(e.currentTarget);return setTimeout(function(){var e=t.val();return e=(e=m(e)).replace(/\D/g,""),x(e,t)})},h=function(e){var t=F(e.currentTarget);return setTimeout(function(){var e=t.val();return e=m(e),e=F.payment.formatCardNumber(e),x(e,t)})},n=function(e){var t,r,n,i,a,s,o=String.fromCharCode(e.which);if(/^\d+$/.test(o)&&(t=F(e.currentTarget),s=t.val(),r=l(s+o),n=(s.replace(/\D/g,"")+o).length,a=16,r&&(a=r.length[r.length.length-1]),!(a<=n||null!=t.prop("selectionStart")&&t.prop("selectionStart")!==s.length)))return(i=r&&"amex"===r.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/).test(s)?(e.preventDefault(),setTimeout(function(){return t.val(s+" "+o)})):i.test(s+o)?(e.preventDefault(),setTimeout(function(){return t.val(s+o+" ")})):void 0},t=function(e){var t=F(e.currentTarget),r=t.val();if(8===e.which&&(null==t.prop("selectionStart")||t.prop("selectionStart")===r.length))return/\d\s$/.test(r)?(e.preventDefault(),setTimeout(function(){return t.val(r.replace(/\d\s$/,""))})):/\s\d?$/.test(r)?(e.preventDefault(),setTimeout(function(){return t.val(r.replace(/\d$/,""))})):void 0},f=function(e){var t=F(e.currentTarget);return setTimeout(function(){var e=t.val();return e=m(e),e=F.payment.formatExpiry(e),x(e,t)})},a=function(e){var r,n,t=String.fromCharCode(e.which);if(/^\d+$/.test(t))return r=F(e.currentTarget),n=r.val()+t,/^\d$/.test(n)&&"0"!==n&&"1"!==n?(e.preventDefault(),setTimeout(function(){return r.val("0"+n+" / ")})):/^\d\d$/.test(n)?(e.preventDefault(),setTimeout(function(){var e=parseInt(n[0],10),t=parseInt(n[1],10);return 2<t&&0!==e?r.val("0"+e+" / "+t):r.val(n+" / ")})):void 0},s=function(e){var t,r,n=String.fromCharCode(e.which);if(/^\d+$/.test(n))return r=(t=F(e.currentTarget)).val(),/^\d\d$/.test(r)?t.val(r+" / "):void 0},o=function(e){var t,r,n=String.fromCharCode(e.which);if("/"===n||" "===n)return r=(t=F(e.currentTarget)).val(),/^\d$/.test(r)&&"0"!==r?t.val("0"+r+" / "):void 0},r=function(e){var t=F(e.currentTarget),r=t.val();if(8===e.which&&(null==t.prop("selectionStart")||t.prop("selectionStart")===r.length))return/\d\s\/\s$/.test(r)?(e.preventDefault(),setTimeout(function(){return t.val(r.replace(/\d\s\/\s$/,""))})):void 0},p=function(e){var t=F(e.currentTarget);return setTimeout(function(){var e=t.val();return e=(e=m(e)).replace(/\D/g,"").slice(0,4),x(e,t)})},w=function(e){var t;return!(!e.metaKey&&!e.ctrlKey)||32!==e.which&&(0===e.which||(e.which<33||(t=String.fromCharCode(e.which),!!/[\d\s]/.test(t))))},y=function(e){var t,r,n=F(e.currentTarget),i=String.fromCharCode(e.which);if(/^\d+$/.test(i)&&!u(n))return r=(n.val()+i).replace(/\D/g,""),(t=l(r))?r.length<=t.length[t.length.length-1]:r.length<=16},b=function(e){var t=F(e.currentTarget),r=String.fromCharCode(e.which);if(/^\d+$/.test(r)&&!u(t))return!(6<(t.val()+r).replace(/\D/g,"").length)&&void 0},v=function(e){var t=F(e.currentTarget),r=String.fromCharCode(e.which);if(/^\d+$/.test(r)&&!u(t))return(t.val()+r).length<=4},C=function(e){var t,n,r=F(e.currentTarget),i=r.val(),a=F.payment.cardType(i)||"unknown";if(!r.hasClass(a))return t=function(){for(var e=[],t=0,r=d.length;t<r;t++)n=d[t],e.push(n.type);return e}(),r.removeClass("unknown"),r.removeClass(t.join(" ")),r.addClass(a),r.toggleClass("identified","unknown"!==a),r.trigger("payment.cardType",a)},F.payment.fn.formatCardCVC=function(){return this.on("keypress",w),this.on("keypress",v),this.on("paste",p),this.on("change",p),this.on("input",p),this},F.payment.fn.formatCardExpiry=function(){return this.on("keypress",w),this.on("keypress",b),this.on("keypress",a),this.on("keypress",o),this.on("keypress",s),this.on("keydown",r),this.on("change",f),this.on("input",f),this},F.payment.fn.formatCardNumber=function(){return this.on("keypress",w),this.on("keypress",y),this.on("keypress",n),this.on("keydown",t),this.on("keyup",C),this.on("paste",h),this.on("change",h),this.on("input",h),this.on("input",C),this},F.payment.fn.restrictNumeric=function(){return this.on("keypress",w),this.on("paste",g),this.on("change",g),this.on("input",g),this},F.payment.fn.cardExpiryVal=function(){return F.payment.cardExpiryVal(F(this).val())},F.payment.cardExpiryVal=function(e){var t=e.split(/[\s\/]+/,2),r=t[0],n=t[1];return 2===(null!=n?n.length:void 0)&&/^\d+$/.test(n)&&(n=(new Date).getFullYear().toString().slice(0,2)+n),{month:parseInt(r,10),year:n=parseInt(n,10)}},F.payment.validateCardNumber=function(e){var t,r;return e=(e+"").replace(/\s+|-/g,""),!!/^\d+$/.test(e)&&(!!(t=l(e))&&(r=e.length,0<=$.call(t.length,r)&&(!1===t.luhn||c(e))))},F.payment.validateCardExpiry=function(e,t){var r,n,i;return"object"==typeof e&&"month"in e&&(e=(i=e).month,t=i.year),!(!e||!t)&&(e=F.trim(e),t=F.trim(t),!!/^\d+$/.test(e)&&(!!/^\d+$/.test(t)&&(1<=e&&e<=12&&(2===t.length&&(t=t<70?"20"+t:"19"+t),4===t.length&&(n=new Date(t,e),r=new Date,n.setMonth(n.getMonth()-1),n.setMonth(n.getMonth()+1,1),r<n)))))},F.payment.validateCardCVC=function(e,t){var r,n;return e=F.trim(e),!!/^\d+$/.test(e)&&(null!=(r=i(t))?(n=e.length,0<=$.call(r.cvcLength,n)):3<=e.length&&e.length<=4)},F.payment.cardType=function(e){var t;return e&&(null!=(t=l(e))?t.type:void 0)||null},F.payment.formatCardNumber=function(e){var t,r,n,i;return e=e.replace(/\D/g,""),(t=l(e))?(n=t.length[t.length.length-1],e=e.slice(0,n),t.format.global?null!=(i=e.match(t.format))?i.join(" "):void 0:null!=(r=t.format.exec(e))?(r.shift(),(r=F.grep(r,function(e){return e})).join(" ")):void 0):e},F.payment.formatExpiry=function(e){var t,r,n,i=e.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/);return i?(t=i[1]||"",r=i[2]||"",0<(n=i[3]||"").length?r=" / ":" /"===r?(t=t.substring(0,1),r=""):2===t.length||0<r.length?r=" / ":1===t.length&&"0"!==t&&"1"!==t&&(t="0"+t,r=" / "),t+r+n):""}}.call(this),function(l){l.fn.lightbox_me=function(o){return this.each(function(){var t=l.extend({},l.fn.lightbox_me.defaults,o),e=l(),r=l(this),n=l('<iframe id="foo" style="z-index: '+(t.zIndex+1)+';border: none; margin: 0; padding: 0; position: absolute; width: 100%; height: 100%; top: 0; left: 0; filter: mask();"/>');function i(){r[0].style;t.destroyOnClose?r.add(e).remove():r.add(e).hide(),t.parentLightbox&&t.parentLightbox.fadeIn(200),t.preventScroll&&l("body").css("overflow",""),n.remove(),r.undelegate(t.closeSelector,"click"),r.unbind("close",i),r.unbind("repositon",s),l(window).unbind("resize",a),l(window).unbind("resize",s),l(window).unbind("scroll",s),l(window).unbind("keyup.lightbox_me"),t.onClose()}function a(){l(window).height()<l(document).height()?(e.css({height:l(document).height()+"px"}),n.css({height:l(document).height()+"px"})):e.css({height:"100%"})}function s(){var e;r[0].style;r.css({left:"50%",marginLeft:r.outerWidth()/2*-1,zIndex:t.zIndex+3}),r.height()+80>=l(window).height()&&"absolute"!=r.css("position")?(e=l(document).scrollTop()+40,r.css({position:"absolute",top:e+"px",marginTop:0})):r.height()+80<l(window).height()&&(t.centered?r.css({position:"fixed",top:"50%",marginTop:r.outerHeight()/2*-1}):r.css({position:"fixed"}).css(t.modalCSS),t.preventScroll&&l("body").css("overflow","hidden"))}t.showOverlay&&(e=0<l(".js_lb_overlay:visible").length?l('<div class="lb_overlay_clear js_lb_overlay"/>'):l('<div class="'+t.classPrefix+'_overlay js_lb_overlay"/>')),l("body").append(r.hide()).append(e),t.showOverlay&&(a(),e.css({position:"absolute",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:t.zIndex+2,display:"none"}),e.hasClass("lb_overlay_clear")||e.css(t.overlayCSS)),t.showOverlay?e.fadeIn(t.overlaySpeed,function(){s(),r[t.appearEffect](t.lightboxSpeed,function(){a(),s(),t.onLoad()})}):(s(),r[t.appearEffect](t.lightboxSpeed,function(){t.onLoad()})),t.parentLightbox&&t.parentLightbox.fadeOut(200),l(window).resize(a).resize(s).scroll(s),l(window).bind("keyup.lightbox_me",function(e){(27==e.keyCode||27==e.DOM_VK_ESCAPE&&0==e.which)&&t.closeEsc&&i()}),t.closeClick&&e.click(function(e){i(),e.preventDefault}),r.delegate(t.closeSelector,"click",function(e){i(),e.preventDefault()}),r.bind("close",i),r.bind("reposition",s)})},l.fn.lightbox_me.defaults={appearEffect:"fadeIn",appearEase:"",overlaySpeed:250,lightboxSpeed:300,closeSelector:".close",closeClick:!0,closeEsc:!0,destroyOnClose:!1,showOverlay:!0,parentLightbox:!1,preventScroll:!1,onLoad:function(){},onClose:function(){},classPrefix:"lb",zIndex:999,centered:!1,modalCSS:{top:"40px"},overlayCSS:{background:"black",opacity:.3}}}(jQuery);var _slice=Array.prototype.slice,_slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e.parsley=t(e.jQuery)}(this,function(c){"use strict";var e=1,t={},d={attr:function(e,t,r){var n,i,a,s=new RegExp("^"+t,"i");if(void 0===r)r={};else for(n in r)r.hasOwnProperty(n)&&delete r[n];if(!e)return r;for(n=(a=e.attributes).length;n--;)(i=a[n])&&i.specified&&s.test(i.name)&&(r[this.camelize(i.name.slice(t.length))]=this.deserializeValue(i.value));return r},checkAttr:function(e,t,r){return e.hasAttribute(t+r)},setAttr:function(e,t,r,n){e.setAttribute(this.dasherize(t+r),String(n))},getType:function(e){return e.getAttribute("type")||"text"},generateID:function(){return""+e++},deserializeValue:function(t){var e;try{return t?"true"==t||"false"!=t&&("null"==t?null:isNaN(e=Number(t))?/^[\[\{]/.test(t)?JSON.parse(t):t:e):t}catch(e){return t}},camelize:function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},dasherize:function(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},warn:function(){var e;window.console&&"function"==typeof window.console.warn&&(e=window.console).warn.apply(e,arguments)},warnOnce:function(e){t[e]||(t[e]=!0,this.warn.apply(this,arguments))},_resetWarnings:function(){t={}},trimString:function(e){return e.replace(/^\s+|\s+$/g,"")},parse:{date:function(e){var t=e.match(/^(\d{4,})-(\d\d)-(\d\d)$/);if(!t)return null;var r=t.map(function(e){return parseInt(e,10)}),n=_slicedToArray(r,4),i=(n[0],n[1]),a=n[2],s=n[3],o=new Date(i,a-1,s);return o.getFullYear()!==i||o.getMonth()+1!==a||o.getDate()!==s?null:o},string:function(e){return e},integer:function(e){return isNaN(e)?null:parseInt(e,10)},number:function(e){if(isNaN(e))throw null;return parseFloat(e)},boolean:function(e){return!/^\s*false\s*$/i.test(e)},object:function(e){return d.deserializeValue(e)},regexp:function(e){var t="";return e=/^\/.*\/(?:[gimy]*)$/.test(e)?(t=e.replace(/.*\/([gimy]*)$/,"$1"),e.replace(new RegExp("^/(.*?)/"+t+"$"),"$1")):"^"+e+"$",new RegExp(e,t)}},parseRequirement:function(e,t){var r=this.parse[e||"string"];if(!r)throw'Unknown requirement specification: "'+e+'"';var n=r(t);if(null===n)throw"Requirement is not a "+e+': "'+t+'"';return n},namespaceEvents:function(e,t){return(e=this.trimString(e||"").split(/\s+/))[0]?c.map(e,function(e){return e+"."+t}).join(" "):""},difference:function(e,r){var n=[];return c.each(e,function(e,t){-1==r.indexOf(t)&&n.push(t)}),n},all:function(e){return c.when.apply(c,_toConsumableArray(e).concat([42,42]))},objectCreate:Object.create||function(e){if(1<arguments.length)throw Error("Second argument not supported");if("object"!=typeof e)throw TypeError("Argument must be an object");r.prototype=e;var t=new r;return r.prototype=null,t},_SubmitSelector:'input[type="submit"], button:submit'};function r(){}function n(){this.__id__=d.generateID()}var i={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,multiple:null,group:null,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,triggerAfterFailure:"input",errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(){},errorsContainer:function(){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"};n.prototype={asyncSupport:!0,_pipeAccordingToValidationResult:function(){function e(){var e=c.Deferred();return!0!==t.validationResult&&e.reject(),e.resolve().promise()}var t=this;return[e,e]},actualizeOptions:function(){return d.attr(this.element,this.options.namespace,this.domOptions),this.parent&&this.parent.actualizeOptions&&this.parent.actualizeOptions(),this},_resetOptions:function(e){for(var t in this.domOptions=d.objectCreate(this.parent.options),this.options=d.objectCreate(this.domOptions),e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);this.actualizeOptions()},_listeners:null,on:function(e,t){return this._listeners=this._listeners||{},(this._listeners[e]=this._listeners[e]||[]).push(t),this},subscribe:function(e,t){c.listenTo(this,e.toLowerCase(),t)},off:function(e,t){var r=this._listeners&&this._listeners[e];if(r)if(t)for(var n=r.length;n--;)r[n]===t&&r.splice(n,1);else delete this._listeners[e];return this},unsubscribe:function(e){c.unsubscribeTo(this,e.toLowerCase())},trigger:function(e,t,r){t=t||this;var n,i=this._listeners&&this._listeners[e];if(i)for(var a=i.length;a--;)if(!1===(n=i[a].call(t,t,r)))return n;return!this.parent||this.parent.trigger(e,t,r)},asyncIsValid:function(e,t){return d.warnOnce("asyncIsValid is deprecated; please use whenValid instead"),this.whenValid({group:e,force:t})},_findRelated:function(){return this.options.multiple?c(this.parent.element.querySelectorAll("["+this.options.namespace+'multiple="'+this.options.multiple+'"]')):this.$element}};function o(e){c.extend(!0,this,e)}o.prototype={validate:function(e,t){if(this.fn)return 3<arguments.length&&(t=[].slice.call(arguments,1,-1)),this.fn(e,t);if(Array.isArray(e)){if(!this.validateMultiple)throw"Validator `"+this.name+"` does not handle multiple values";return this.validateMultiple.apply(this,arguments)}var r=arguments[arguments.length-1];if(this.validateDate&&r._isDateInput())return arguments[0]=d.parse.date(arguments[0]),null!==arguments[0]&&this.validateDate.apply(this,arguments);if(this.validateNumber)return!isNaN(e)&&(arguments[0]=parseFloat(arguments[0]),this.validateNumber.apply(this,arguments));if(this.validateString)return this.validateString.apply(this,arguments);throw"Validator `"+this.name+"` only handles multiple values"},parseRequirements:function(e,t){if("string"!=typeof e)return Array.isArray(e)?e:[e];var r=this.requirementType;if(Array.isArray(r)){for(var n=function(e,t){var r=e.match(/^\s*\[(.*)\]\s*$/);if(!r)throw'Requirement is not an array: "'+e+'"';var n=r[1].split(",").map(d.trimString);if(n.length!==t)throw"Requirement has "+n.length+" values when "+t+" are needed";return n}(e,r.length),i=0;i<n.length;i++)n[i]=d.parseRequirement(r[i],n[i]);return n}return c.isPlainObject(r)?function(e,t,r){var n,i=null,a={};for(var s in e){s?("string"==typeof(n=r(s))&&(n=d.parseRequirement(e[s],n)),a[s]=n):i=d.parseRequirement(e[s],t)}return[i,a]}(r,e,t):[d.parseRequirement(r,e)]},requirementType:"string",priority:2};function a(e,t){this.__class__="ValidatorRegistry",this.locale="en",this.init(e||{},t||{})}var p={email:/^((([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/,number:/^-?(\d*\.)?\d+(e[-+]?\d+)?$/i,integer:/^-?\d+$/,digits:/^\d+$/,alphanum:/^\w+$/i,date:{test:function(e){return null!==d.parse.date(e)}},url:new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-zA-Z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$")};p.range=p.number;function h(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function s(a,s){return function(e){for(var t,r=arguments.length,n=Array(1<r?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.pop(),s.apply(void 0,[e].concat(_toConsumableArray((t=a,n.map(d.parse[t])))))}}function l(e){return{validateDate:s("date",e),validateNumber:s("number",e),requirementType:e.length<=2?"string":["string","string"],priority:30}}a.prototype={init:function(e,t){for(var r in this.catalog=t,this.validators=_extends({},this.validators),e)this.addValidator(r,e[r].fn,e[r].priority);window.Parsley.trigger("parsley:validator:init")},setLocale:function(e){if(void 0===this.catalog[e])throw new Error(e+" is not available in the catalog");return this.locale=e,this},addCatalog:function(e,t,r){return"object"==typeof t&&(this.catalog[e]=t),!0===r?this.setLocale(e):this},addMessage:function(e,t,r){return void 0===this.catalog[e]&&(this.catalog[e]={}),this.catalog[e][t]=r,this},addMessages:function(e,t){for(var r in t)this.addMessage(e,r,t[r]);return this},addValidator:function(e,t,r){if(this.validators[e])d.warn('Validator "'+e+'" is already defined.');else if(i.hasOwnProperty(e))return void d.warn('"'+e+'" is a restricted keyword and is not a valid validator name.');return this._setValidator.apply(this,arguments)},hasValidator:function(e){return!!this.validators[e]},updateValidator:function(e,t,r){return this.validators[e]?this._setValidator.apply(this,arguments):(d.warn('Validator "'+e+'" is not already defined.'),this.addValidator.apply(this,arguments))},removeValidator:function(e){return this.validators[e]||d.warn('Validator "'+e+'" is not defined.'),delete this.validators[e],this},_setValidator:function(e,t,r){for(var n in"object"!=typeof t&&(t={fn:t,priority:r}),t.validate||(t=new o(t)),(this.validators[e]=t).messages||{})this.addMessage(n,e,t.messages[n]);return this},getErrorMessage:function(e){return("type"===e.name?(this.catalog[this.locale][e.name]||{})[e.requirements]:this.formatMessage(this.catalog[this.locale][e.name],e.requirements))||this.catalog[this.locale].defaultMessage||this.catalog.en.defaultMessage},formatMessage:function(e,t){if("object"!=typeof t)return"string"==typeof e?e.replace(/%s/i,t):"";for(var r in t)e=this.formatMessage(e,t[r]);return e},validators:{notblank:{validateString:function(e){return/\S/.test(e)},priority:2},required:{validateMultiple:function(e){return 0<e.length},validateString:function(e){return/\S/.test(e)},priority:512},type:{validateString:function(e,t,r){var n=arguments.length<=2||void 0===r?{}:r,i=n.step,a=void 0===i?"any":i,s=n.base,o=void 0===s?0:s,l=p[t];if(!l)throw new Error("validator type `"+t+"` is not supported");if(!l.test(e))return!1;if("number"===t&&!/^any$/i.test(a||"")){var d=Number(e),u=Math.max(h(a),h(o));if(h(d)>u)return!1;var c=function(e){return Math.round(e*Math.pow(10,u))};if((c(d)-c(o))%c(a)!=0)return!1}return!0},requirementType:{"":"string",step:"string",base:"number"},priority:256},pattern:{validateString:function(e,t){return t.test(e)},requirementType:"regexp",priority:64},minlength:{validateString:function(e,t){return e.length>=t},requirementType:"integer",priority:30},maxlength:{validateString:function(e,t){return e.length<=t},requirementType:"integer",priority:30},length:{validateString:function(e,t,r){return e.length>=t&&e.length<=r},requirementType:["integer","integer"],priority:30},mincheck:{validateMultiple:function(e,t){return e.length>=t},requirementType:"integer",priority:30},maxcheck:{validateMultiple:function(e,t){return e.length<=t},requirementType:"integer",priority:30},check:{validateMultiple:function(e,t,r){return e.length>=t&&e.length<=r},requirementType:["integer","integer"],priority:30},min:l(function(e,t){return t<=e}),max:l(function(e,t){return e<=t}),range:l(function(e,t,r){return t<=e&&e<=r}),equalto:{validateString:function(e,t){var r=c(t);return r.length?e===r.val():e===t},priority:256}}};var u={};u.Form={_actualizeTriggers:function(){var t=this;this.$element.on("submit.Parsley",function(e){t.onSubmitValidate(e)}),this.$element.on("click.Parsley",d._SubmitSelector,function(e){t.onSubmitButton(e)}),!1!==this.options.uiEnabled&&this.element.setAttribute("novalidate","")},focus:function(){if(!(this._focusedField=null)===this.validationResult||"none"===this.options.focus)return null;for(var e=0;e<this.fields.length;e++){var t=this.fields[e];if(!0!==t.validationResult&&0<t.validationResult.length&&void 0===t.options.noFocus&&(this._focusedField=t.$element,"first"===this.options.focus))break}return null===this._focusedField?null:this._focusedField.focus()},_destroyUI:function(){this.$element.off(".Parsley")}},u.Field={_reflowUI:function(){var e;this._buildUI(),this._ui&&(e=function e(t,r,n){for(var i=[],a=[],s=0;s<t.length;s++){for(var o=!1,l=0;l<r.length;l++)if(t[s].assert.name===r[l].assert.name){o=!0;break}o?a.push(t[s]):i.push(t[s])}return{kept:a,added:i,removed:n?[]:e(r,t,!0).added}}(this.validationResult,this._ui.lastValidationResult),this._ui.lastValidationResult=this.validationResult,this._manageStatusClass(),this._manageErrorsMessages(e),this._actualizeTriggers(),!e.kept.length&&!e.added.length||this._failedOnce||(this._failedOnce=!0,this._actualizeTriggers()))},getErrorsMessages:function(){if(!0===this.validationResult)return[];for(var e=[],t=0;t<this.validationResult.length;t++)e.push(this.validationResult[t].errorMessage||this._getErrorMessage(this.validationResult[t].assert));return e},addError:function(e,t){var r=arguments.length<=1||void 0===t?{}:t,n=r.message,i=r.assert,a=r.updateClass,s=void 0===a||a;this._buildUI(),this._addError(e,{message:n,assert:i}),s&&this._errorClass()},updateError:function(e,t){var r=arguments.length<=1||void 0===t?{}:t,n=r.message,i=r.assert,a=r.updateClass,s=void 0===a||a;this._buildUI(),this._updateError(e,{message:n,assert:i}),s&&this._errorClass()},removeError:function(e,t){var r=(arguments.length<=1||void 0===t?{}:t).updateClass,n=void 0===r||r;this._buildUI(),this._removeError(e),n&&this._manageStatusClass()},_manageStatusClass:function(){this.hasConstraints()&&this.needsValidation()&&!0===this.validationResult?this._successClass():0<this.validationResult.length?this._errorClass():this._resetClass()},_manageErrorsMessages:function(e){if(void 0===this.options.errorsMessagesDisabled){if(void 0!==this.options.errorMessage)return e.added.length||e.kept.length?(this._insertErrorWrapper(),0===this._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&this._ui.$errorsWrapper.append(c(this.options.errorTemplate).addClass("parsley-custom-error-message")),this._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(this.options.errorMessage)):this._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var t=0;t<e.removed.length;t++)this._removeError(e.removed[t].assert.name);for(t=0;t<e.added.length;t++)this._addError(e.added[t].assert.name,{message:e.added[t].errorMessage,assert:e.added[t].assert});for(t=0;t<e.kept.length;t++)this._updateError(e.kept[t].assert.name,{message:e.kept[t].errorMessage,assert:e.kept[t].assert})}},_addError:function(e,t){var r=t.message,n=t.assert;this._insertErrorWrapper(),this._ui.$errorClassHandler.attr("aria-describedby",this._ui.errorsWrapperId),this._ui.$errorsWrapper.addClass("filled").append(c(this.options.errorTemplate).addClass("parsley-"+e).html(r||this._getErrorMessage(n)))},_updateError:function(e,t){var r=t.message,n=t.assert;this._ui.$errorsWrapper.addClass("filled").find(".parsley-"+e).html(r||this._getErrorMessage(n))},_removeError:function(e){this._ui.$errorClassHandler.removeAttr("aria-describedby"),this._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+e).remove()},_getErrorMessage:function(e){var t=e.name+"Message";return void 0!==this.options[t]?window.Parsley.formatMessage(this.options[t],e.requirements):window.Parsley.getErrorMessage(e)},_buildUI:function(){var e;this._ui||!1===this.options.uiEnabled||(e={},this.element.setAttribute(this.options.namespace+"id",this.__id__),e.$errorClassHandler=this._manageClassHandler(),e.errorsWrapperId="parsley-id-"+(this.options.multiple?"multiple-"+this.options.multiple:this.__id__),e.$errorsWrapper=c(this.options.errorsWrapper).attr("id",e.errorsWrapperId),e.lastValidationResult=[],e.validationInformationVisible=!1,this._ui=e)},_manageClassHandler:function(){if("string"==typeof this.options.classHandler&&c(this.options.classHandler).length)return c(this.options.classHandler);var e=this.options.classHandler;if("string"==typeof this.options.classHandler&&"function"==typeof window[this.options.classHandler]&&(e=window[this.options.classHandler]),"function"==typeof e){var t=e.call(this,this);if(void 0!==t&&t.length)return t}else{if("object"==typeof e&&e instanceof jQuery&&e.length)return e;e&&d.warn("The class handler `"+e+"` does not exist in DOM nor as a global JS function")}return this._inputHolder()},_inputHolder:function(){return this.options.multiple&&"SELECT"!==this.element.nodeName?this.$element.parent():this.$element},_insertErrorWrapper:function(){var e=this.options.errorsContainer;if(0!==this._ui.$errorsWrapper.parent().length)return this._ui.$errorsWrapper.parent();if("string"==typeof e){if(c(e).length)return c(e).append(this._ui.$errorsWrapper);"function"==typeof window[e]?e=window[e]:d.warn("The errors container `"+e+"` does not exist in DOM nor as a global JS function")}return"function"==typeof e&&(e=e.call(this,this)),"object"==typeof e&&e.length?e.append(this._ui.$errorsWrapper):this._inputHolder().after(this._ui.$errorsWrapper)},_actualizeTriggers:function(){var e,t=this,r=this._findRelated();r.off(".Parsley"),this._failedOnce?r.on(d.namespaceEvents(this.options.triggerAfterFailure,"Parsley"),function(){t._validateIfNeeded()}):(e=d.namespaceEvents(this.options.trigger,"Parsley"))&&r.on(e,function(e){t._validateIfNeeded(e)})},_validateIfNeeded:function(e){var t=this;e&&/key|input/.test(e.type)&&(!this._ui||!this._ui.validationInformationVisible)&&this.getValue().length<=this.options.validationThreshold||(this.options.debounce?(window.clearTimeout(this._debounced),this._debounced=window.setTimeout(function(){return t.validate()},this.options.debounce)):this.validate())},_resetUI:function(){this._failedOnce=!1,this._actualizeTriggers(),void 0!==this._ui&&(this._ui.$errorsWrapper.removeClass("filled").children().remove(),this._resetClass(),this._ui.lastValidationResult=[],this._ui.validationInformationVisible=!1)},_destroyUI:function(){this._resetUI(),void 0!==this._ui&&this._ui.$errorsWrapper.remove(),delete this._ui},_successClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass)},_errorClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass)},_resetClass:function(){this._ui.$errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass)}};function f(e,t,r){this.__class__="Form",this.element=e,this.$element=c(e),this.domOptions=t,this.options=r,this.parent=window.Parsley,this.fields=[],this.validationResult=null}var g={pending:null,resolved:!0,rejected:!1};f.prototype={onSubmitValidate:function(e){var t,r,n=this;!0!==e.parsley&&(t=this._submitSource||this.$element.find(d._SubmitSelector)[0],this._submitSource=null,this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!0),t&&null!==t.getAttribute("formnovalidate")||(window.Parsley._remoteCache={},"resolved"===(r=this.whenValidate({event:e})).state()&&!1!==this._trigger("submit")||(e.stopImmediatePropagation(),e.preventDefault(),"pending"===r.state()&&r.done(function(){n._submit(t)}))))},onSubmitButton:function(e){this._submitSource=e.currentTarget},_submit:function(e){var t;!1!==this._trigger("submit")&&(e&&(0===(t=this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!1)).length&&(t=c('<input class="parsley-synthetic-submit-button" type="hidden">').appendTo(this.$element)),t.attr({name:e.getAttribute("name"),value:e.getAttribute("value")})),this.$element.trigger(_extends(c.Event("submit"),{parsley:!0})))},validate:function(e){var t;return 1<=arguments.length&&!c.isPlainObject(e)&&(d.warnOnce("Calling validate on a parsley form without passing arguments as an object is deprecated."),e={group:(t=_slice.call(arguments))[0],force:t[1],event:t[2]}),g[this.whenValidate(e).state()]},whenValidate:function(e){var t,r=this,n=arguments.length<=0||void 0===e?{}:e,i=n.group,a=n.force,s=n.event;(this.submitEvent=s)&&(this.submitEvent=_extends({},s,{preventDefault:function(){d.warnOnce("Using `this.submitEvent.preventDefault()` is deprecated; instead, call `this.validationResult = false`"),r.validationResult=!1}})),this.validationResult=!0,this._trigger("validate"),this._refreshFields();var o=this._withoutReactualizingFormOptions(function(){return c.map(r.fields,function(e){return e.whenValidate({force:a,group:i})})});return(t=d.all(o).done(function(){r._trigger("success")}).fail(function(){r.validationResult=!1,r.focus(),r._trigger("error")}).always(function(){r._trigger("validated")})).pipe.apply(t,_toConsumableArray(this._pipeAccordingToValidationResult()))},isValid:function(e){var t;return 1<=arguments.length&&!c.isPlainObject(e)&&(d.warnOnce("Calling isValid on a parsley form without passing arguments as an object is deprecated."),e={group:(t=_slice.call(arguments))[0],force:t[1]}),g[this.whenValid(e).state()]},whenValid:function(e){var t=this,r=arguments.length<=0||void 0===e?{}:e,n=r.group,i=r.force;this._refreshFields();var a=this._withoutReactualizingFormOptions(function(){return c.map(t.fields,function(e){return e.whenValid({group:n,force:i})})});return d.all(a)},refresh:function(){return this._refreshFields(),this},reset:function(){for(var e=0;e<this.fields.length;e++)this.fields[e].reset();this._trigger("reset")},destroy:function(){this._destroyUI();for(var e=0;e<this.fields.length;e++)this.fields[e].destroy();this.$element.removeData("Parsley"),this._trigger("destroy")},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var i=this,e=this.fields;return this.fields=[],this.fieldsMappedById={},this._withoutReactualizingFormOptions(function(){i.$element.find(i.options.inputs).not(i.options.excluded).each(function(e,t){var r,n=new window.Parsley.Factory(t,{},i);"Field"!==n.__class__&&"FieldMultiple"!==n.__class__||!0===n.options.excluded||(r=n.__class__+"-"+n.__id__,void 0===i.fieldsMappedById[r]&&(i.fieldsMappedById[r]=n,i.fields.push(n)))}),c.each(d.difference(e,i.fields),function(e,t){t.reset()})}),this},_withoutReactualizingFormOptions:function(e){var t=this.actualizeOptions;this.actualizeOptions=function(){return this};var r=e();return this.actualizeOptions=t,r},_trigger:function(e){return this.trigger("form:"+e)}};function m(e,t,r,n,i){var a=window.Parsley._validatorRegistry.validators[t],s=new o(a);n=n||e.options[t+"Priority"]||s.priority,_extends(this,{validator:s,name:t,requirements:r,priority:n,isDomConstraint:i=!0===i}),this._parseRequirements(e.options)}function v(e,t,r,n){this.__class__="Field",this.element=e,this.$element=c(e),void 0!==n&&(this.parent=n),this.options=r,this.domOptions=t,this.constraints=[],this.constraintsByName={},this.validationResult=!0,this._bindConstraints()}var y={pending:null,resolved:!0,rejected:!(m.prototype={validate:function(e,t){var r;return(r=this.validator).validate.apply(r,[e].concat(_toConsumableArray(this.requirementList),[t]))},_parseRequirements:function(r){var n=this;this.requirementList=this.validator.parseRequirements(this.requirements,function(e){return r[n.name+((t=e)[0].toUpperCase()+t.slice(1))];var t})}})};v.prototype={validate:function(e){1<=arguments.length&&!c.isPlainObject(e)&&(d.warnOnce("Calling validate on a parsley field without passing arguments as an object is deprecated."),e={options:e});var t=this.whenValidate(e);if(!t)return!0;switch(t.state()){case"pending":return null;case"resolved":return!0;case"rejected":return this.validationResult}},whenValidate:function(e){var t,r=this,n=arguments.length<=0||void 0===e?{}:e,i=n.force,a=n.group;if(this.refresh(),!a||this._isInGroup(a))return this.value=this.getValue(),this._trigger("validate"),(t=this.whenValid({force:i,value:this.value,_refreshed:!0}).always(function(){r._reflowUI()}).done(function(){r._trigger("success")}).fail(function(){r._trigger("error")}).always(function(){r._trigger("validated")})).pipe.apply(t,_toConsumableArray(this._pipeAccordingToValidationResult()))},hasConstraints:function(){return 0!==this.constraints.length},needsValidation:function(e){return void 0===e&&(e=this.getValue()),!(!e.length&&!this._isRequired()&&void 0===this.options.validateIfEmpty)},_isInGroup:function(e){return Array.isArray(this.options.group)?-1!==c.inArray(e,this.options.group):this.options.group===e},isValid:function(e){var t;1<=arguments.length&&!c.isPlainObject(e)&&(d.warnOnce("Calling isValid on a parsley field without passing arguments as an object is deprecated."),e={force:(t=_slice.call(arguments))[0],value:t[1]});var r=this.whenValid(e);return!r||y[r.state()]},whenValid:function(e){var n=this,t=arguments.length<=0||void 0===e?{}:e,r=t.force,i=void 0!==r&&r,a=t.value,s=t.group;if(t._refreshed||this.refresh(),!s||this._isInGroup(s)){if(this.validationResult=!0,!this.hasConstraints())return c.when();if(null==a&&(a=this.getValue()),!this.needsValidation(a)&&!0!==i)return c.when();var o=this._getGroupedConstraints(),l=[];return c.each(o,function(e,t){var r=d.all(c.map(t,function(e){return n._validateConstraint(a,e)}));if(l.push(r),"rejected"===r.state())return!1}),d.all(l)}},_validateConstraint:function(e,t){var r=this,n=t.validate(e,this);return!1===n&&(n=c.Deferred().reject()),d.all([n]).fail(function(e){r.validationResult instanceof Array||(r.validationResult=[]),r.validationResult.push({assert:t,errorMessage:"string"==typeof e&&e})})},getValue:function(){var e="function"==typeof this.options.value?this.options.value(this):void 0!==this.options.value?this.options.value:this.$element.val();return null==e?"":this._handleWhitespace(e)},reset:function(){return this._resetUI(),this._trigger("reset")},destroy:function(){this._destroyUI(),this.$element.removeData("Parsley"),this.$element.removeData("FieldMultiple"),this._trigger("destroy")},refresh:function(){return this._refreshConstraints(),this},_refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},refreshConstraints:function(){return d.warnOnce("Parsley's refreshConstraints is deprecated. Please use refresh"),this.refresh()},addConstraint:function(e,t,r,n){var i;return window.Parsley._validatorRegistry.validators[e]&&(i=new m(this,e,t,r,n),"undefined"!==this.constraintsByName[i.name]&&this.removeConstraint(i.name),this.constraints.push(i),this.constraintsByName[i.name]=i),this},removeConstraint:function(e){for(var t=0;t<this.constraints.length;t++)if(e===this.constraints[t].name){this.constraints.splice(t,1);break}return delete this.constraintsByName[e],this},updateConstraint:function(e,t,r){return this.removeConstraint(e).addConstraint(e,t,r)},_bindConstraints:function(){for(var e=[],t={},r=0;r<this.constraints.length;r++)!1===this.constraints[r].isDomConstraint&&(e.push(this.constraints[r]),t[this.constraints[r].name]=this.constraints[r]);for(var n in this.constraints=e,this.constraintsByName=t,this.options)this.addConstraint(n,this.options[n],void 0,!0);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){null!==this.element.getAttribute("required")&&this.addConstraint("required",!0,void 0,!0),null!==this.element.getAttribute("pattern")&&this.addConstraint("pattern",this.element.getAttribute("pattern"),void 0,!0);var e=this.element.getAttribute("min"),t=this.element.getAttribute("max");null!==e&&null!==t?this.addConstraint("range",[e,t],void 0,!0):null!==e?this.addConstraint("min",e,void 0,!0):null!==t&&this.addConstraint("max",t,void 0,!0),null!==this.element.getAttribute("minlength")&&null!==this.element.getAttribute("maxlength")?this.addConstraint("length",[this.element.getAttribute("minlength"),this.element.getAttribute("maxlength")],void 0,!0):null!==this.element.getAttribute("minlength")?this.addConstraint("minlength",this.element.getAttribute("minlength"),void 0,!0):null!==this.element.getAttribute("maxlength")&&this.addConstraint("maxlength",this.element.getAttribute("maxlength"),void 0,!0);var r=d.getType(this.element);return"number"===r?this.addConstraint("type",["number",{step:this.element.getAttribute("step")||"1",base:e||this.element.getAttribute("value")}],void 0,!0):/^(email|url|range|date)$/i.test(r)?this.addConstraint("type",r,void 0,!0):this},_isRequired:function(){return void 0!==this.constraintsByName.required&&!1!==this.constraintsByName.required.requirements},_trigger:function(e){return this.trigger("field:"+e)},_handleWhitespace:function(e){return!0===this.options.trimValue&&d.warnOnce('data-parsley-trim-value="true" is deprecated, please use data-parsley-whitespace="trim"'),"squish"===this.options.whitespace&&(e=e.replace(/\s{2,}/g," ")),"trim"!==this.options.whitespace&&"squish"!==this.options.whitespace&&!0!==this.options.trimValue||(e=d.trimString(e)),e},_isDateInput:function(){var e=this.constraintsByName.type;return e&&"date"===e.requirements},_getGroupedConstraints:function(){if(!1===this.options.priorityEnabled)return[this.constraints];for(var e=[],t={},r=0;r<this.constraints.length;r++){var n=this.constraints[r].priority;t[n]||e.push(t[n]=[]),t[n].push(this.constraints[r])}return e.sort(function(e,t){return t[0].priority-e[0].priority}),e}};function b(){this.__class__="FieldMultiple"}var w=v;b.prototype={addElement:function(e){return this.$elements.push(e),this},_refreshConstraints:function(){var e;if(this.constraints=[],"SELECT"===this.element.nodeName)return this.actualizeOptions()._bindConstraints(),this;for(var t=0;t<this.$elements.length;t++)if(c("html").has(this.$elements[t]).length){e=this.$elements[t].data("FieldMultiple")._refreshConstraints().constraints;for(var r=0;r<e.length;r++)this.addConstraint(e[r].name,e[r].requirements,e[r].priority,e[r].isDomConstraint)}else this.$elements.splice(t,1);return this},getValue:function(){if("function"==typeof this.options.value)return this.options.value(this);if(void 0!==this.options.value)return this.options.value;if("INPUT"===this.element.nodeName){var e=d.getType(this.element);if("radio"===e)return this._findRelated().filter(":checked").val()||"";if("checkbox"===e){var t=[];return this._findRelated().filter(":checked").each(function(){t.push(c(this).val())}),t}}return"SELECT"===this.element.nodeName&&null===this.$element.val()?[]:this.$element.val()},_init:function(){return this.$elements=[this.$element],this}};function x(e,t,r){this.element=e,this.$element=c(e);var n=this.$element.data("Parsley");if(n)return void 0!==r&&n.parent===window.Parsley&&(n.parent=r,n._resetOptions(n.options)),"object"==typeof t&&_extends(n.options,t),n;if(!this.$element.length)throw new Error("You must bind Parsley on an existing element.");if(void 0!==r&&"Form"!==r.__class__)throw new Error("Parent instance must be a Form instance");return this.parent=r||window.Parsley,this.init(t)}x.prototype={init:function(e){return this.__class__="Parsley",this.__version__="2.8.1",this.__id__=d.generateID(),this._resetOptions(e),"FORM"===this.element.nodeName||d.checkAttr(this.element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.isMultiple()?this.handleMultiple():this.bind("parsleyField")},isMultiple:function(){var e=d.getType(this.element);return"radio"===e||"checkbox"===e||"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple")},handleMultiple:function(){var e,t,n=this;if(this.options.multiple=this.options.multiple||(e=this.element.getAttribute("name"))||this.element.getAttribute("id"),"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple"))return this.options.multiple=this.options.multiple||this.__id__,this.bind("parsleyFieldMultiple");if(!this.options.multiple)return d.warn("To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;this.options.multiple=this.options.multiple.replace(/(:|\.|\[|\]|\{|\}|\$)/g,""),e&&c('input[name="'+e+'"]').each(function(e,t){var r=d.getType(t);"radio"!==r&&"checkbox"!==r||t.setAttribute(n.options.namespace+"multiple",n.options.multiple)});for(var r=this._findRelated(),i=0;i<r.length;i++)if(void 0!==(t=c(r.get(i)).data("Parsley"))){this.$element.data("FieldMultiple")||t.addElement(this.$element);break}return this.bind("parsleyField",!0),t||this.bind("parsleyFieldMultiple")},bind:function(e,t){var r;switch(e){case"parsleyForm":r=c.extend(new f(this.element,this.domOptions,this.options),new n,window.ParsleyExtend)._bindFields();break;case"parsleyField":r=c.extend(new w(this.element,this.domOptions,this.options,this.parent),new n,window.ParsleyExtend);break;case"parsleyFieldMultiple":r=c.extend(new w(this.element,this.domOptions,this.options,this.parent),new b,new n,window.ParsleyExtend)._init();break;default:throw new Error(e+"is not a supported Parsley type")}return this.options.multiple&&d.setAttr(this.element,this.options.namespace,"multiple",this.options.multiple),void 0!==t?this.$element.data("FieldMultiple",r):(this.$element.data("Parsley",r),r._actualizeTriggers(),r._trigger("init")),r}};var C=c.fn.jquery.split(".");if(parseInt(C[0])<=1&&parseInt(C[1])<8)throw"The loaded version of jQuery is too old. Please upgrade to 1.8.x or better.";C.forEach||d.warn("Parsley requires ES5 to run properly. Please include https://github.com/es-shims/es5-shim");var _=_extends(new n,{element:document,$element:c(document),actualizeOptions:null,_resetOptions:null,Factory:x,version:"2.8.1"});_extends(w.prototype,u.Field,n.prototype),_extends(f.prototype,u.Form,n.prototype),_extends(x.prototype,n.prototype),c.fn.parsley=c.fn.psly=function(e){if(1<this.length){var t=[];return this.each(function(){t.push(c(this).parsley(e))}),t}if(0!=this.length)return new x(this[0],e)},void 0===window.ParsleyExtend&&(window.ParsleyExtend={}),_.options=_extends(d.objectCreate(i),window.ParsleyConfig),window.ParsleyConfig=_.options,(window.Parsley=window.psly=_).Utils=d,window.ParsleyUtils={},c.each(d,function(e,t){"function"==typeof t&&(window.ParsleyUtils[e]=function(){return d.warnOnce("Accessing `window.ParsleyUtils` is deprecated. Use `window.Parsley.Utils` instead."),d[e].apply(d,arguments)})});var $=window.Parsley._validatorRegistry=new a(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);window.ParsleyValidator={},c.each("setLocale addCatalog addMessage addMessages getErrorMessage formatMessage addValidator updateValidator removeValidator hasValidator".split(" "),function(e,t){window.Parsley[t]=function(){return $[t].apply($,arguments)},window.ParsleyValidator[t]=function(){var e;return d.warnOnce("Accessing the method '"+t+"' through Validator is deprecated. Simply call 'window.Parsley."+t+"(...)'"),(e=window.Parsley)[t].apply(e,arguments)}}),window.Parsley.UI=u,window.ParsleyUI={removeError:function(e,t,r){var n=!0!==r;return d.warnOnce("Accessing UI is deprecated. Call 'removeError' on the instance directly. Please comment in issue 1073 as to your need to call this method."),e.removeError(t,{updateClass:n})},getErrorsMessages:function(e){return d.warnOnce("Accessing UI is deprecated. Call 'getErrorsMessages' on the instance directly."),e.getErrorsMessages()}},c.each("addError updateError".split(" "),function(e,s){window.ParsleyUI[s]=function(e,t,r,n,i){var a=!0!==i;return d.warnOnce("Accessing UI is deprecated. Call '"+s+"' on the instance directly. Please comment in issue 1073 as to your need to call this method."),e[s](t,{message:r,assert:n,updateClass:a})}}),!1!==window.ParsleyConfig.autoBind&&c(function(){c("[data-parsley-validate]").length&&c("[data-parsley-validate]").parsley()});function F(){d.warnOnce("Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley")}var T=c({});function D(t,r){return t.parsleyAdaptedCallback||(t.parsleyAdaptedCallback=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(this),t.apply(r||T,e)}),t.parsleyAdaptedCallback}var A="parsley:";function k(e){return 0===e.lastIndexOf(A,0)?e.substr(A.length):e}c.listen=function(e,t){var r;if(F(),"object"==typeof arguments[1]&&"function"==typeof arguments[2]&&(r=arguments[1],t=arguments[2]),"function"!=typeof t)throw new Error("Wrong parameters");window.Parsley.on(k(e),D(t,r))},c.listenTo=function(e,t,r){if(F(),!(e instanceof w||e instanceof f))throw new Error("Must give Parsley instance");if("string"!=typeof t||"function"!=typeof r)throw new Error("Wrong parameters");e.on(k(t),D(r))},c.unsubscribe=function(e,t){if(F(),"string"!=typeof e||"function"!=typeof t)throw new Error("Wrong arguments");window.Parsley.off(k(e),t.parsleyAdaptedCallback)},c.unsubscribeTo=function(e,t){if(F(),!(e instanceof w||e instanceof f))throw new Error("Must give Parsley instance");e.off(k(t))},c.unsubscribeAll=function(t){F(),window.Parsley.off(k(t)),c("form,input,textarea,select").each(function(){var e=c(this).data("Parsley");e&&e.off(k(t))})},c.emit=function(e,t){F();var r=t instanceof w||t instanceof f,n=Array.prototype.slice.call(arguments,r?2:1);n.unshift(k(e)),r||(t=window.Parsley),t.trigger.apply(t,_toConsumableArray(n))};return c.extend(!0,_,{asyncValidators:{default:{fn:function(e){return 200<=e.status&&e.status<300},url:!1},reverse:{fn:function(e){return e.status<200||300<=e.status},url:!1}},addAsyncValidator:function(e,t,r,n){return _.asyncValidators[e]={fn:t,url:r||!1,options:n||{}},this}}),_.addValidator("remote",{requirementType:{"":"string",validator:"string",reverse:"boolean",options:"object"},validateString:function(e,t,r,n){var i,a={},s=r.validator||(!0===r.reverse?"reverse":"default");if(void 0===_.asyncValidators[s])throw new Error("Calling an undefined async validator: `"+s+"`");-1<(t=_.asyncValidators[s].url||t).indexOf("{value}")?t=t.replace("{value}",encodeURIComponent(e)):a[n.element.getAttribute("name")||n.element.getAttribute("id")]=e;var o=c.extend(!0,r.options||{},_.asyncValidators[s].options),l=c.extend(!0,{},{url:t,data:a,type:"GET"},o);n.trigger("field:ajaxoptions",n,l),i=c.param(l),void 0===_._remoteCache&&(_._remoteCache={});function d(){var e=(e=_.asyncValidators[s].fn.call(n,u,t,r))||c.Deferred().reject();return c.when(e)}var u=_._remoteCache[i]=_._remoteCache[i]||c.ajax(l);return u.then(d,d)},priority:-1}),_.on("form:submit",function(){_._remoteCache={}}),n.prototype.addAsyncValidator=function(){return d.warnOnce("Accessing the method `addAsyncValidator` through an instance is deprecated. Simply call `Parsley.addAsyncValidator(...)`"),_.addAsyncValidator.apply(_,arguments)},_.addMessages("en",{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),_.setLocale("en"),(new function(){var n=this,i=window||global;_extends(this,{isNativeEvent:function(e){return e.originalEvent&&!1!==e.originalEvent.isTrusted},fakeInputEvent:function(e){n.isNativeEvent(e)&&c(e.target).trigger("input")},misbehaves:function(e){n.isNativeEvent(e)&&(n.behavesOk(e),c(document).on("change.inputevent",e.data.selector,n.fakeInputEvent),n.fakeInputEvent(e))},behavesOk:function(e){n.isNativeEvent(e)&&c(document).off("input.inputevent",e.data.selector,n.behavesOk).off("change.inputevent",e.data.selector,n.misbehaves)},install:function(){if(!i.inputEventPatched){i.inputEventPatched="0.0.3";for(var e=["select",'input[type="checkbox"]','input[type="radio"]','input[type="file"]'],t=0;t<e.length;t++){var r=e[t];c(document).on("input.inputevent",r,{selector:r},n.behavesOk).on("change.inputevent",r,{selector:r},n.misbehaves)}}},uninstall:function(){delete i.inputEventPatched,c(document).off(".inputevent")}})}).install(),_}),function(n){n.fn.autoHideLabels=function(e){return n(this).each(function(){var e=n(this),t=e.find("label"),r=e.find('textarea, input:not([type="checkbox"],[type="radio"],[type="button"],[type="submit"],[type="reset"],[type="file"],[type="hidden"])');r.attr("title")||r.attr("title",t.text()),r.on("focusin",function(){""===r.val()&&t.fadeTo(100,.4)}).on("focusout",function(){""===r.val()&&t.fadeTo(100,1)}).on("keyup change",function(){""===r.val()?t.fadeTo(100,.4):t.fadeOut(100)}),""!==r.val()&&t.hide()})}}(jQuery),function(){function e(){}for(var t,r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],n=r.length,i=window.console=window.console||{};n--;)i[t=r[n]]||(i[t]=e)}();var DateFormat={};!function(){var C=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],$=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],F=["January","February","March","April","May","June","July","August","September","October","November","December"],t={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},s=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[Z\-+]?(\d{2}:?\d{2})?/;function o(e){return t[e]||e}function l(e){var t,r,n,i,a,s=e,o="";return-1!==s.indexOf(".")&&(s=(i=s.split("."))[0],o=i[i.length-1]),3<=(a=s.split(":")).length?(t=a[0],r=a[1],n=a[2].replace(/\s.+/,"").replace(/[a-z]/gi,""),{time:s=s.replace(/\s.+/,"").replace(/[a-z]/gi,""),hour:t,minute:r,second:n,millis:o}):{time:"",hour:"",minute:"",second:"",millis:""}}function T(e,t){for(var r=t-String(e).length,n=0;n<r;n++)e="0"+e;return e}DateFormat.format={parseDate:function(e){var t,r,n={date:null,year:null,month:null,dayOfMonth:null,dayOfWeek:null,time:null};if("number"==typeof e)return this.parseDate(new Date(e));if("function"==typeof e.getFullYear)n.year=String(e.getFullYear()),n.month=String(e.getMonth()+1),n.dayOfMonth=String(e.getDate()),n.time=l(e.toTimeString()+"."+e.getMilliseconds());else if(-1!=e.search(s))t=e.split(/[T\+-]/),n.year=t[0],n.month=t[1],n.dayOfMonth=t[2],n.time=l(t[3].split(".")[0]);else switch(6===(t=e.split(" ")).length&&isNaN(t[5])&&(t[t.length]="()"),t.length){case 6:n.year=t[5],n.month=o(t[1]),n.dayOfMonth=t[2],n.time=l(t[3]);break;case 2:r=t[0].split("-"),n.year=r[0],n.month=r[1],n.dayOfMonth=r[2],n.time=l(t[1]);break;case 7:case 9:case 10:n.year=t[3];var i=parseInt(t[1]),a=parseInt(t[2]);i&&!a?(n.month=o(t[2]),n.dayOfMonth=t[1]):(n.month=o(t[1]),n.dayOfMonth=t[2]),n.time=l(t[4]);break;case 1:r=t[0].split(""),n.year=r[0]+r[1]+r[2]+r[3],n.month=r[5]+r[6],n.dayOfMonth=r[8]+r[9],n.time=l(r[13]+r[14]+r[15]+r[16]+r[17]+r[18]+r[19]+r[20]);break;default:return null}return n.time?n.date=new Date(n.year,n.month-1,n.dayOfMonth,n.time.hour,n.time.minute,n.time.second,n.time.millis):n.date=new Date(n.year,n.month-1,n.dayOfMonth),n.dayOfWeek=String(n.date.getDay()),n},date:function(e,t){try{var r=this.parseDate(e);if(null===r)return e;for(var n,i=r.year,a=r.month,s=r.dayOfMonth,o=r.dayOfWeek,l=r.time,d="",u="",c="",p=!1,h=0;h<t.length;h++){var f=t.charAt(h),g=t.charAt(h+1);if(p)"'"==f?(u+=""===d?"'":d,d="",p=!1):d+=f;else switch(c="",d+=f){case"ddd":u+=(x=o,C[parseInt(x,10)]||x),d="";break;case"dd":if("d"===g)break;u+=T(s,2),d="";break;case"d":if("d"===g)break;u+=parseInt(s,10),d="";break;case"D":u+=s=1==s||21==s||31==s?parseInt(s,10)+"st":2==s||22==s?parseInt(s,10)+"nd":3==s||23==s?parseInt(s,10)+"rd":parseInt(s,10)+"th",d="";break;case"MMMM":u+=(b=a,w=parseInt(b,10)-1,F[w]||b),d="";break;case"MMM":if("M"===g)break;u+=(v=a,y=parseInt(v,10)-1,$[y]||v),d="";break;case"MM":if("M"===g)break;u+=T(a,2),d="";break;case"M":if("M"===g)break;u+=parseInt(a,10),d="";break;case"y":case"yyy":if("y"===g)break;u+=d,d="";break;case"yy":if("y"===g)break;u+=String(i).slice(-2),d="";break;case"yyyy":u+=i,d="";break;case"HH":u+=T(l.hour,2),d="";break;case"H":if("H"===g)break;u+=parseInt(l.hour,10),d="";break;case"hh":u+=T(n=0===parseInt(l.hour,10)?12:l.hour<13?l.hour:l.hour-12,2),d="";break;case"h":if("h"===g)break;n=0===parseInt(l.hour,10)?12:l.hour<13?l.hour:l.hour-12,u+=parseInt(n,10),d="";break;case"mm":u+=T(l.minute,2),d="";break;case"m":if("m"===g)break;u+=parseInt(l.minute,10),d="";break;case"ss":u+=T(l.second.substring(0,2),2),d="";break;case"s":if("s"===g)break;u+=parseInt(l.second,10),d="";break;case"S":case"SS":if("S"===g)break;u+=d,d="";break;case"SSS":u+=T(l.millis.substring(0,3),3),d="";break;case"a":u+=12<=l.hour?"PM":"AM",d="";break;case"p":u+=12<=l.hour?"p.m.":"a.m.",d="";break;case"E":u+=(m=o,_[parseInt(m,10)]||m),d="";break;case"'":p=!(d="");break;default:u+=f,d=""}}return u+c}catch(t){return console&&console.log&&console.log(t),e}var m,v,y,b,w,x},prettyDate:function(e){var t,r,n,i,a;if("string"!=typeof e&&"number"!=typeof e||(t=new Date(e)),"object"==typeof e&&(t=new Date(e.toString())),r=((new Date).getTime()-t.getTime())/1e3,n=Math.abs(r),i=Math.floor(n/86400),!isNaN(i))return a=r<0?"from now":"ago",n<60?0<=r?"just now":"in a moment":n<120?"1 minute "+a:n<3600?Math.floor(n/60)+" minutes "+a:n<7200?"1 hour "+a:n<86400?Math.floor(n/3600)+" hours "+a:1===i?0<=r?"Yesterday":"Tomorrow":i<7?i+" days "+a:7===i?"1 week "+a:i<31?Math.ceil(i/7)+" weeks "+a:"more than 5 weeks "+a},toBrowserTimeZone:function(e,t){return this.date(new Date(e),t||"MM/dd/yyyy HH:mm:ss")}}}(),jQuery.format=DateFormat.format,function(e,t){var r=new RegExp("/"+window.location.host+"/");e(t).find("a").each(function(){r.test(this.href)||e(this).attr("target","_blank")})}(jQuery,document.body),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){return function(A){"use strict";var k=A.tablesorter={version:"2.31.3",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:!0,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,null:0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(t,r){var e,n,i,a;t&&t.tHead&&0!==t.tBodies.length&&!0!==t.hasInitialized?(n="",i=A(t),a=A.metadata,t.hasInitialized=!1,t.isProcessing=!0,t.config=r,A.data(t,"tablesorter",r),k.debug(r,"core")&&(console[console.group?"group":"log"]("Initializing tablesorter v"+k.version),A.data(t,"startoveralltimer",new Date)),r.supportsDataObject=((e=A.fn.jquery.split("."))[0]=parseInt(e[0],10),1<e[0]||1===e[0]&&4<=parseInt(e[1],10)),r.emptyTo=r.emptyTo.toLowerCase(),r.stringTo=r.stringTo.toLowerCase(),r.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(i.attr("class"))||(n=""!==r.theme?" tablesorter-"+r.theme:""),r.namespace?r.namespace="."+r.namespace.replace(k.regex.nonWord,""):r.namespace=".tablesorter"+Math.random().toString(16).slice(2),r.table=t,r.$table=i.addClass(k.css.table+" "+r.tableClass+n+" "+r.namespace.slice(1)).attr("role","grid"),r.$headers=i.find(r.selectorHeaders),r.$table.children().children("tr").attr("role","row"),r.$tbodies=i.children("tbody:not(."+r.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),r.$table.children("caption").length&&((n=r.$table.children("caption")[0]).id||(n.id=r.namespace.slice(1)+"caption"),r.$table.attr("aria-labelledby",n.id)),r.widgetInit={},r.textExtraction=r.$table.attr("data-text-extraction")||r.textExtraction||"basic",k.buildHeaders(r),k.fixColumnWidth(t),k.addWidgetFromClass(t),k.applyWidgetOptions(t),k.setupParsers(r),r.totalRows=0,r.debug&&k.validateOptions(r),r.delayInit||k.buildCache(r),k.bindEvents(t,r.$headers,!0),k.bindMethods(r),r.supportsDataObject&&void 0!==i.data().sortlist?r.sortList=i.data().sortlist:a&&i.metadata()&&i.metadata().sortlist&&(r.sortList=i.metadata().sortlist),k.applyWidget(t,!0),0<r.sortList.length?(r.last.sortList=r.sortList,k.sortOn(r,r.sortList,{},!r.initWidgets)):(k.setHeadersCss(r),r.initWidgets&&k.applyWidget(t,!1)),r.showProcessing&&i.unbind("sortBegin"+r.namespace+" sortEnd"+r.namespace).bind("sortBegin"+r.namespace+" sortEnd"+r.namespace,function(e){clearTimeout(r.timerProcessing),k.isProcessing(t),"sortBegin"===e.type&&(r.timerProcessing=setTimeout(function(){k.isProcessing(t,!0)},500))}),t.hasInitialized=!0,t.isProcessing=!1,k.debug(r,"core")&&(console.log("Overall initialization time:"+k.benchmark(A.data(t,"startoveralltimer"))),k.debug(r,"core")&&console.groupEnd&&console.groupEnd()),i.triggerHandler("tablesorter-initialized",t),"function"==typeof r.initialized&&r.initialized(t)):k.debug(r,"core")&&(t.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",t))},bindMethods:function(r){var e=r.$table,t=r.namespace,n="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(t+" ");e.unbind(n.replace(k.regex.spaces," ")).bind("sortReset"+t,function(e,t){e.stopPropagation(),k.sortReset(this.config,function(e){e.isApplyingWidgets?setTimeout(function(){k.applyWidget(e,"",t)},100):k.applyWidget(e,"",t)})}).bind("updateAll"+t,function(e,t,r){e.stopPropagation(),k.updateAll(this.config,t,r)}).bind("update"+t+" updateRows"+t,function(e,t,r){e.stopPropagation(),k.update(this.config,t,r)}).bind("updateHeaders"+t,function(e,t){e.stopPropagation(),k.updateHeaders(this.config,t)}).bind("updateCell"+t,function(e,t,r,n){e.stopPropagation(),k.updateCell(this.config,t,r,n)}).bind("addRows"+t,function(e,t,r,n){e.stopPropagation(),k.addRows(this.config,t,r,n)}).bind("updateComplete"+t,function(){this.isUpdating=!1}).bind("sorton"+t,function(e,t,r,n){e.stopPropagation(),k.sortOn(this.config,t,r,n)}).bind("appendCache"+t,function(e,t,r){e.stopPropagation(),k.appendCache(this.config,r),A.isFunction(t)&&t(this)}).bind("updateCache"+t,function(e,t,r){e.stopPropagation(),k.updateCache(this.config,t,r)}).bind("applyWidgetId"+t,function(e,t){e.stopPropagation(),k.applyWidgetId(this,t)}).bind("applyWidgets"+t,function(e,t){e.stopPropagation(),k.applyWidget(this,!1,t)}).bind("refreshWidgets"+t,function(e,t,r){e.stopPropagation(),k.refreshWidgets(this,t,r)}).bind("removeWidget"+t,function(e,t,r){e.stopPropagation(),k.removeWidget(this,t,r)}).bind("destroy"+t,function(e,t,r){e.stopPropagation(),k.destroy(this,t,r)}).bind("resetToLoadState"+t,function(e){e.stopPropagation(),k.removeWidget(this,!0,!1);var t=A.extend(!0,{},r.originalSettings);(r=A.extend(!0,{},k.defaults,t)).originalSettings=t,this.hasInitialized=!1,k.setup(this,r)})},bindEvents:function(e,t,r){var n,o=(e=A(e)[0]).config,i=o.namespace,l=null;!0!==r&&(t.addClass(i.slice(1)+"_extra_headers"),(n=k.getClosest(t,"table")).length&&"TABLE"===n[0].nodeName&&n[0]!==e&&A(n[0]).addClass(i.slice(1)+"_extra_table")),n=(o.pointerDown+" "+o.pointerUp+" "+o.pointerClick+" sort keyup ").replace(k.regex.spaces," ").split(" ").join(i+" "),t.find(o.selectorSort).add(t.filter(o.selectorSort)).unbind(n).bind(n,function(e,t){var r,n,i,a=A(e.target),s=" "+e.type+" ";if(!(1!==(e.which||e.button)&&!s.match(" "+o.pointerClick+" | sort | keyup ")||" keyup "===s&&e.which!==k.keyCodes.enter||s.match(" "+o.pointerClick+" ")&&void 0!==e.which||s.match(" "+o.pointerUp+" ")&&l!==e.target&&!0!==t)){if(s.match(" "+o.pointerDown+" "))return l=e.target,void("1"===(i=a.jquery.split("."))[0]&&i[1]<4&&e.preventDefault());if(l=null,r=k.getClosest(A(this),"."+k.css.header),k.regex.formElements.test(e.target.nodeName)||a.hasClass(o.cssNoSort)||0<a.parents("."+o.cssNoSort).length||r.hasClass("sorter-false")||0<a.parents("button").length)return!o.cancelSelection;o.delayInit&&k.isEmptyObject(o.cache)&&k.buildCache(o),o.last.clickedIndex=r.attr("data-column")||r.index(),(n=o.$headerIndexed[o.last.clickedIndex][0])&&!n.sortDisabled&&k.initSort(o,n,e)}}),o.cancelSelection&&t.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(l){var e,d,t,r;for(l.headerList=[],l.headerContent=[],l.sortVars=[],k.debug(l,"core")&&(t=new Date),l.columns=k.computeColumnIndex(l.$table.children("thead, tfoot").children("tr")),d=l.cssIcon?'<i class="'+(l.cssIcon===k.css.icon?k.css.icon:l.cssIcon+" "+k.css.icon)+'"></i>':"",l.$headers=A(A.map(l.$table.find(l.selectorHeaders),function(e,t){var r,n,i,a,s,o=A(e);if(!k.getClosest(o,"tr").hasClass(l.cssIgnoreRow))return/(th|td)/i.test(e.nodeName)||(s=k.getClosest(o,"th, td"),o.attr("data-column",s.attr("data-column"))),r=k.getColumnData(l.table,l.headers,t,!0),l.headerContent[t]=o.html(),""===l.headerTemplate||o.find("."+k.css.headerIn).length||(a=l.headerTemplate.replace(k.regex.templateContent,o.html()).replace(k.regex.templateIcon,o.find("."+k.css.icon).length?"":d),l.onRenderTemplate&&(n=l.onRenderTemplate.apply(o,[t,a]))&&"string"==typeof n&&(a=n),o.html('<div class="'+k.css.headerIn+'">'+a+"</div>")),l.onRenderHeader&&l.onRenderHeader.apply(o,[t,l,l.$table]),i=parseInt(o.attr("data-column"),10),e.column=i,s=k.getOrder(k.getData(o,r,"sortInitialOrder")||l.sortInitialOrder),!(l.sortVars[i]={count:-1,order:s?l.sortReset?[1,0,2]:[1,0]:l.sortReset?[0,1,2]:[0,1],lockedOrder:!1,sortedBy:""})!==(s=k.getData(o,r,"lockedOrder")||!1)&&(l.sortVars[i].lockedOrder=!0,l.sortVars[i].order=k.getOrder(s)?[1,1]:[0,0]),l.headerList[t]=e,o.addClass(k.css.header+" "+l.cssHeader),k.getClosest(o,"tr").addClass(k.css.headerRow+" "+l.cssHeaderRow).attr("role","row"),l.tabIndex&&o.attr("tabindex",0),e})),l.$headerIndexed=[],r=0;r<l.columns;r++)k.isEmptyObject(l.sortVars[r])&&(l.sortVars[r]={}),e=l.$headers.filter('[data-column="'+r+'"]'),l.$headerIndexed[r]=e.length?e.not(".sorter-false").length?e.not(".sorter-false").filter(":last"):e.filter(":last"):A();l.$table.find(l.selectorHeaders).attr({scope:"col",role:"columnheader"}),k.updateHeader(l),k.debug(l,"core")&&(console.log("Built headers:"+k.benchmark(t)),console.log(l.$headers))},addInstanceMethods:function(e){A.extend(k.instanceMethods,e)},setupParsers:function(e,t){var r,n,i,a,s,o,l,d,u,c,p,h,f,g,m=e.table,v=0,y=k.debug(e,"core"),b={};if(e.$tbodies=e.$table.children("tbody:not(."+e.cssInfoBlock+")"),0===(g=(f=void 0===t?e.$tbodies:t).length))return y?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(y&&(h=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),n={extractors:[],parsers:[]};v<g;){if((r=f[v].rows).length)for(s=0,a=e.columns,o=0;o<a;o++){if((l=e.$headerIndexed[s])&&l.length&&(d=k.getColumnData(m,e.headers,s),p=k.getParserById(k.getData(l,d,"extractor")),c=k.getParserById(k.getData(l,d,"sorter")),u="false"===k.getData(l,d,"parser"),e.empties[s]=(k.getData(l,d,"empty")||e.emptyTo||(e.emptyToBottom?"bottom":"top")).toLowerCase(),e.strings[s]=(k.getData(l,d,"string")||e.stringTo||"max").toLowerCase(),u&&(c=k.getParserById("no-parser")),p=p||!1,c=c||k.detectParserForColumn(e,r,-1,s),y&&(b["("+s+") "+l.text()]={parser:c.id,extractor:p?p.id:"none",string:e.strings[s],empty:e.empties[s]}),n.parsers[s]=c,n.extractors[s]=p,0<(i=l[0].colSpan-1)))for(s+=i,a+=i;0<i+1;)n.parsers[s-i]=c,n.extractors[s-i]=p,i--;s++}v+=n.parsers.length?g:1}y&&(k.isEmptyObject(b)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](b),console.log("Completed detecting parsers"+k.benchmark(h)),console.groupEnd&&console.groupEnd()),e.parsers=n.parsers,e.extractors=n.extractors},addParser:function(e){for(var t=k.parsers.length,r=!0,n=0;n<t;n++)k.parsers[n].id.toLowerCase()===e.id.toLowerCase()&&(r=!1);r&&(k.parsers[k.parsers.length]=e)},getParserById:function(e){if("false"==e)return!1;for(var t=k.parsers.length,r=0;r<t;r++)if(k.parsers[r].id.toLowerCase()===e.toString().toLowerCase())return k.parsers[r];return!1},detectParserForColumn:function(e,t,r,n){for(var i,a,s,o=k.parsers.length,l=!1,d="",u=k.debug(e,"core"),c=!0;""===d&&c;)(s=t[++r])&&r<50?s.className.indexOf(k.cssIgnoreRow)<0&&(l=t[r].cells[n],d=k.getElementText(e,l,n),a=A(l),u&&console.log("Checking if value was empty on row "+r+", column: "+n+': "'+d+'"')):c=!1;for(;0<=--o;)if((i=k.parsers[o])&&"text"!==i.id&&i.is&&i.is(d,e.table,l,a))return i;return k.getParserById("text")},getElementText:function(e,t,r){if(!t)return"";var n,i=e.textExtraction||"",a=t.jquery?t:A(t);return"string"==typeof i?"basic"===i&&void 0!==(n=a.attr(e.textAttribute))?A.trim(n):A.trim(t.textContent||a.text()):"function"==typeof i?A.trim(i(a[0],e.table,r)):"function"==typeof(n=k.getColumnData(e.table,i,r))?A.trim(n(a[0],e.table,r)):A.trim(a[0].textContent||a.text())},getParsedText:function(e,t,r,n){void 0===n&&(n=k.getElementText(e,t,r));var i=""+n,a=e.parsers[r],s=e.extractors[r];return a&&(s&&"function"==typeof s.format&&(n=s.format(n,e.table,t,r)),i="no-parser"===a.id?"":a.format(""+n,e.table,t,r),e.ignoreCase&&"string"==typeof i&&(i=i.toLowerCase())),i},buildCache:function(e,t,r){var n,i,a,s,o,l,d,u,c,p,h,f,g,m,v,y,b,w,x,C,_,$,F=e.table,T=e.parsers,D=k.debug(e,"core");if(e.$tbodies=e.$table.children("tbody:not(."+e.cssInfoBlock+")"),d=void 0===r?e.$tbodies:r,e.cache={},e.totalRows=0,!T)return D?console.warn("Warning: *Empty table!* Not building a cache"):"";for(D&&(f=new Date),e.showProcessing&&k.isProcessing(F,!0),l=0;l<d.length;l++){for(y=[],n=e.cache[l]={normalized:[]},g=d[l]&&d[l].rows.length||0,s=0;s<g;++s)if(m={child:[],raw:[]},c=[],!(u=A(d[l].rows[s])).hasClass(e.selectorRemove.slice(1)))if(u.hasClass(e.cssChildRow)&&0!==s)for(_=n.normalized.length-1,(v=n.normalized[_][e.columns]).$row=v.$row.add(u),u.prev().hasClass(e.cssChildRow)||u.prev().addClass(k.css.cssHasChild),p=u.children("th, td"),_=v.child.length,v.child[_]=[],w=0,C=e.columns,o=0;o<C;o++)(h=p[o])&&(v.child[_][o]=k.getParsedText(e,h,o),0<(b=p[o].colSpan-1)&&(w+=b,C+=b)),w++;else{for(m.$row=u,m.order=s,w=0,C=e.columns,o=0;o<C;++o){if((h=u[0].cells[o])&&w<e.columns&&(!(x=void 0!==T[w])&&D&&console.warn("No parser found for row: "+s+", column: "+o+'; cell containing: "'+A(h).text()+'"; does it have a header?'),i=k.getElementText(e,h,w),m.raw[w]=i,a=k.getParsedText(e,h,w,i),c[w]=a,x&&"numeric"===(T[w].type||"").toLowerCase()&&(y[w]=Math.max(Math.abs(a)||0,y[w]||0)),0<(b=h.colSpan-1))){for($=0;$<=b;)a=e.duplicateSpan||0===$?a:"string"!=typeof e.textExtraction&&k.getElementText(e,h,w+$)||"",m.raw[w+$]=a,c[w+$]=a,$++;w+=b,C+=b}w++}c[e.columns]=m,n.normalized[n.normalized.length]=c}n.colMax=y,e.totalRows+=n.normalized.length}if(e.showProcessing&&k.isProcessing(F),D){for(_=Math.min(5,e.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+e.totalRows+" rows (showing "+_+" rows in log) and "+e.columns+" columns"+k.benchmark(f)),i={},o=0;o<e.columns;o++)for(w=0;w<_;w++)i["row: "+w]||(i["row: "+w]={}),i["row: "+w][e.$headerIndexed[o].text()]=e.cache[0].normalized[w][o];console[console.table?"table":"log"](i),console.groupEnd&&console.groupEnd()}A.isFunction(t)&&t(F)},getColumnText:function(e,t,r,n){var i,a,s,o,l,d,u,c,p,h,f="function"==typeof r,g="all"===t,m={raw:[],parsed:[],$cell:[]},v=(e=A(e)[0]).config;if(!k.isEmptyObject(v)){for(l=v.$tbodies.length,i=0;i<l;i++)for(d=(s=v.cache[i].normalized).length,a=0;a<d;a++)o=s[a],n&&!o[v.columns].$row.is(n)||(h=!0,c=g?o.slice(0,v.columns):o[t],o=o[v.columns],u=g?o.raw:o.raw[t],p=g?o.$row.children():o.$row.children().eq(t),f&&(h=r({tbodyIndex:i,rowIndex:a,parsed:c,raw:u,$row:o.$row,$cell:p})),!1!==h&&(m.parsed[m.parsed.length]=c,m.raw[m.raw.length]=u,m.$cell[m.$cell.length]=p));return m}k.debug(v,"core")&&console.warn("No cache found - aborting getColumnText function!")},setHeadersCss:function(a){function e(e,t){e.removeClass(s).addClass(o[t]).attr("aria-sort",d[t]).find("."+k.css.icon).removeClass(l[2]).addClass(l[t])}var t,r,n=a.sortList,i=n.length,s=k.css.sortNone+" "+a.cssNone,o=[k.css.sortAsc+" "+a.cssAsc,k.css.sortDesc+" "+a.cssDesc],l=[a.cssIconAsc,a.cssIconDesc,a.cssIconNone],d=["ascending","descending"],u=a.$table.find("tfoot tr").children("td, th").add(A(a.namespace+"_extra_headers")).removeClass(o.join(" ")),c=a.$headers.add(A("thead "+a.namespace+"_extra_headers")).removeClass(o.join(" ")).addClass(s).attr("aria-sort","none").find("."+k.css.icon).removeClass(l.join(" ")).end();for(c.not(".sorter-false").find("."+k.css.icon).addClass(l[2]),a.cssIconDisabled&&c.filter(".sorter-false").find("."+k.css.icon).addClass(a.cssIconDisabled),t=0;t<i;t++)if(2!==n[t][1]){if((c=(c=a.$headers.filter(function(e){for(var t=!0,r=a.$headers.eq(e),n=parseInt(r.attr("data-column"),10),i=n+k.getClosest(r,"th, td")[0].colSpan;n<i;n++)t=!!t&&(t||-1<k.isValueInArray(n,a.sortList));return t})).not(".sorter-false").filter('[data-column="'+n[t][0]+'"]'+(1===i?":last":""))).length)for(r=0;r<c.length;r++)c[r].sortDisabled||e(c.eq(r),n[t][1]);u.length&&e(u.filter('[data-column="'+n[t][0]+'"]'),n[t][1])}for(i=a.$headers.length,t=0;t<i;t++)k.setColumnAriaLabel(a,a.$headers.eq(t))},getClosest:function(e,t){return A.fn.closest?e.closest(t):e.is(t)?e:e.parents(t).filter(":first")},setColumnAriaLabel:function(e,t,r){var n,i,a,s;t.length&&(n=parseInt(t.attr("data-column"),10),i=e.sortVars[n],a=t.hasClass(k.css.sortAsc)?"sortAsc":t.hasClass(k.css.sortDesc)?"sortDesc":"sortNone",s=A.trim(t.text())+": "+k.language[a],t.hasClass("sorter-false")||!1===r?s+=k.language.sortDisabled:(a=(i.count+1)%i.order.length,r=i.order[a],s+=k.language[0===r?"nextAsc":1===r?"nextDesc":"nextNone"]),t.attr("aria-label",s),i.sortedBy?t.attr("data-sortedBy",i.sortedBy):t.removeAttr("data-sortedBy"))},updateHeader:function(e){for(var t,r,n,i=e.table,a=e.$headers.length,s=0;s<a;s++)r=e.$headers.eq(s),n=k.getColumnData(i,e.headers,s,!0),t="false"===k.getData(r,n,"sorter")||"false"===k.getData(r,n,"parser"),k.setColumnSort(e,r,t)},setColumnSort:function(e,t,r){var n=e.table.id;t[0].sortDisabled=r,t[r?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+r),e.tabIndex&&(r?t.removeAttr("tabindex"):t.attr("tabindex","0")),n&&(r?t.removeAttr("aria-controls"):t.attr("aria-controls",n))},updateHeaderSortCount:function(e,t){var r,n,i,a,s,o,l,d,u=t||e.sortList,c=u.length;for(e.sortList=[],a=0;a<c;a++)if(l=u[a],(r=parseInt(l[0],10))<e.columns){switch(e.sortVars[r].order||(d=k.getOrder(e.sortInitialOrder)?e.sortReset?[1,0,2]:[1,0]:e.sortReset?[0,1,2]:[0,1],e.sortVars[r].order=d,e.sortVars[r].count=0),d=e.sortVars[r].order,n=(n=(""+l[1]).match(/^(1|d|s|o|n)/))?n[0]:""){case"1":case"d":n=1;break;case"s":n=s||0;break;case"o":n=0===(o=d[(s||0)%d.length])?1:1===o?0:2;break;case"n":n=d[++e.sortVars[r].count%d.length];break;default:n=0}s=0===a?n:s,i=[r,parseInt(n,10)||0],e.sortList[e.sortList.length]=i,n=A.inArray(i[1],d),e.sortVars[r].count=0<=n?n:i[1]%d.length}},updateAll:function(e,t,r){var n=e.table;n.isUpdating=!0,k.refreshWidgets(n,!0,!0),k.buildHeaders(e),k.bindEvents(n,e.$headers,!0),k.bindMethods(e),k.commonUpdate(e,t,r)},update:function(e,t,r){e.table.isUpdating=!0,k.updateHeader(e),k.commonUpdate(e,t,r)},updateHeaders:function(e,t){e.table.isUpdating=!0,k.buildHeaders(e),k.bindEvents(e.table,e.$headers,!0),k.resortComplete(e,t)},updateCell:function(e,t,r,n){if(A(t).closest("tr").hasClass(e.cssChildRow))console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');else{if(k.isEmptyObject(e.cache))return k.updateHeader(e),void k.commonUpdate(e,r,n);e.table.isUpdating=!0,e.$table.find(e.selectorRemove).remove();var i,a,s,o,l,d,u=e.$tbodies,c=A(t),p=u.index(k.getClosest(c,"tbody")),h=e.cache[p],f=k.getClosest(c,"tr");if(t=c[0],u.length&&0<=p){if(s=u.eq(p).find("tr").not("."+e.cssChildRow).index(f),l=h.normalized[s],(d=f[0].cells.length)!==e.columns)for(i=!1,a=o=0;a<d;a++)i||f[0].cells[a]===t?i=!0:o+=f[0].cells[a].colSpan;else o=c.index();i=k.getElementText(e,t,o),l[e.columns].raw[o]=i,i=k.getParsedText(e,t,o,i),l[o]=i,"numeric"===(e.parsers[o].type||"").toLowerCase()&&(h.colMax[o]=Math.max(Math.abs(i)||0,h.colMax[o]||0)),!1!==(i="undefined"!==r?r:e.resort)?k.checkResort(e,i,n):k.resortComplete(e,n)}else k.debug(e,"core")&&console.error("updateCell aborted, tbody missing or not within the indicated table"),e.table.isUpdating=!1}},addRows:function(e,t,r,n){var i,a,s,o,l,d,u,c,p,h,f,g,m,v="string"==typeof t&&1===e.$tbodies.length&&/<tr/.test(t||""),y=e.table;if(v)t=A(t),e.$tbodies.append(t);else if(!(t&&t instanceof A&&k.getClosest(t,"table")[0]===e.table))return k.debug(e,"core")&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(y.isUpdating=!0,k.isEmptyObject(e.cache))k.updateHeader(e),k.commonUpdate(e,r,n);else{for(l=t.filter("tr").attr("role","row").length,s=e.$tbodies.index(t.parents("tbody").filter(":first")),e.parsers&&e.parsers.length||k.setupParsers(e),o=0;o<l;o++){for(p=0,u=t[o].cells.length,c=e.cache[s].normalized.length,f=[],h={child:[],raw:[],$row:t.eq(o),order:c},d=0;d<u;d++)g=t[o].cells[d],i=k.getElementText(e,g,p),h.raw[p]=i,a=k.getParsedText(e,g,p,i),f[p]=a,"numeric"===(e.parsers[p].type||"").toLowerCase()&&(e.cache[s].colMax[p]=Math.max(Math.abs(a)||0,e.cache[s].colMax[p]||0)),0<(m=g.colSpan-1)&&(p+=m),p++;f[e.columns]=h,e.cache[s].normalized[c]=f}k.checkResort(e,r,n)}},updateCache:function(e,t,r){e.parsers&&e.parsers.length||k.setupParsers(e,r),k.buildCache(e,t,r)},appendCache:function(e,t){var r,n,i,a,s,o,l,d=e.table,u=e.$tbodies,c=[],p=e.cache;if(k.isEmptyObject(p))return e.appender?e.appender(d,c):d.isUpdating?e.$table.triggerHandler("updateComplete",d):"";for(k.debug(e,"core")&&(l=new Date),o=0;o<u.length;o++)if((i=u.eq(o)).length){for(a=k.processTbody(d,i,!0),n=(r=p[o].normalized).length,s=0;s<n;s++)c[c.length]=r[s][e.columns].$row,e.appender&&(!e.pager||e.pager.removeRows||e.pager.ajax)||a.append(r[s][e.columns].$row);k.processTbody(d,a,!1)}e.appender&&e.appender(d,c),k.debug(e,"core")&&console.log("Rebuilt table"+k.benchmark(l)),t||e.appender||k.applyWidget(d),d.isUpdating&&e.$table.triggerHandler("updateComplete",d)},commonUpdate:function(e,t,r){e.$table.find(e.selectorRemove).remove(),k.setupParsers(e),k.buildCache(e),k.checkResort(e,t,r)},initSort:function(t,e,r){if(t.table.isUpdating)return setTimeout(function(){k.initSort(t,e,r)},50);var n,i,a,s,o,l,d,u=!r[t.sortMultiSortKey],c=t.table,p=t.$headers.length,h=k.getClosest(A(e),"th, td"),f=parseInt(h.attr("data-column"),10),g="mouseup"===r.type?"user":r.type,m=t.sortVars[f].order,h=h[0];if(t.$table.triggerHandler("sortStart",c),l=(t.sortVars[f].count+1)%m.length,t.sortVars[f].count=r[t.sortResetKey]?2:l,t.sortRestart)for(a=0;a<p;a++)d=t.$headers.eq(a),f!==(l=parseInt(d.attr("data-column"),10))&&(u||d.hasClass(k.css.sortNone))&&(t.sortVars[l].count=-1);if(u){if(A.each(t.sortVars,function(e){t.sortVars[e].sortedBy=""}),t.sortList=[],t.last.sortList=[],null!==t.sortForce)for(n=t.sortForce,i=0;i<n.length;i++)n[i][0]!==f&&(t.sortList[t.sortList.length]=n[i],t.sortVars[n[i][0]].sortedBy="sortForce");if((s=m[t.sortVars[f].count])<2&&(t.sortList[t.sortList.length]=[f,s],t.sortVars[f].sortedBy=g,1<h.colSpan))for(i=1;i<h.colSpan;i++)t.sortList[t.sortList.length]=[f+i,s],t.sortVars[f+i].count=A.inArray(s,m),t.sortVars[f+i].sortedBy=g}else if(t.sortList=A.extend([],t.last.sortList),0<=k.isValueInArray(f,t.sortList))for(t.sortVars[f].sortedBy=g,i=0;i<t.sortList.length;i++)(l=t.sortList[i])[0]===f&&(l[1]=m[t.sortVars[f].count],2===l[1]&&(t.sortList.splice(i,1),t.sortVars[f].count=-1));else if(s=m[t.sortVars[f].count],t.sortVars[f].sortedBy=g,s<2&&(t.sortList[t.sortList.length]=[f,s],1<h.colSpan))for(i=1;i<h.colSpan;i++)t.sortList[t.sortList.length]=[f+i,s],t.sortVars[f+i].count=A.inArray(s,m),t.sortVars[f+i].sortedBy=g;if(t.last.sortList=A.extend([],t.sortList),t.sortList.length&&t.sortAppend&&(n=A.isArray(t.sortAppend)?t.sortAppend:t.sortAppend[t.sortList[0][0]],!k.isEmptyObject(n)))for(i=0;i<n.length;i++)if(n[i][0]!==f&&k.isValueInArray(n[i][0],t.sortList)<0){if(o=(""+(s=n[i][1])).match(/^(a|d|s|o|n)/))switch(l=t.sortList[0][1],o[0]){case"d":s=1;break;case"s":s=l;break;case"o":s=0===l?1:0;break;case"n":s=(l+1)%m.length;break;default:s=0}t.sortList[t.sortList.length]=[n[i][0],s],t.sortVars[n[i][0]].sortedBy="sortAppend"}t.$table.triggerHandler("sortBegin",c),setTimeout(function(){k.setHeadersCss(t),k.multisort(t),k.appendCache(t),t.$table.triggerHandler("sortBeforeEnd",c),t.$table.triggerHandler("sortEnd",c)},1)},multisort:function(d){var e,t,u,r,c,p=d.table,h=[],f=d.textSorter||"",g=d.sortList,m=g.length,n=d.$tbodies.length;if(!d.serverSideSorting&&!k.isEmptyObject(d.cache)){if(k.debug(d,"core")&&(t=new Date),"object"==typeof f)for(u=d.columns;u--;)"function"==typeof(r=k.getColumnData(p,f,u))&&(h[u]=r);for(e=0;e<n;e++)u=d.cache[e].colMax,d.cache[e].normalized.sort(function(e,t){for(var r,n,i,a,s,o,l=0;l<m;l++){if(n=g[l][0],i=g[l][1],c=0===i,d.sortStable&&e[n]===t[n]&&1===m)return e[d.columns].order-t[d.columns].order;if(a=/n/i.test(k.getSortType(d.parsers,n))&&d.strings[n]?(r="boolean"==typeof k.string[d.strings[n]]?(c?1:-1)*(k.string[d.strings[n]]?-1:1):d.strings[n]&&k.string[d.strings[n]]||0,d.numberSorter?d.numberSorter(e[n],t[n],c,u[n],p):k["sortNumeric"+(c?"Asc":"Desc")](e[n],t[n],r,u[n],n,d)):(s=c?e:t,o=c?t:e,"function"==typeof f?f(s[n],o[n],c,n,p):"function"==typeof h[n]?h[n](s[n],o[n],c,n,p):k["sortNatural"+(c?"Asc":"Desc")](e[n]||"",t[n]||"",n,d)))return a}return e[d.columns].order-t[d.columns].order});k.debug(d,"core")&&console.log("Applying sort "+g.toString()+k.benchmark(t))}},resortComplete:function(e,t){e.table.isUpdating&&e.$table.triggerHandler("updateComplete",e.table),A.isFunction(t)&&t(e.table)},checkResort:function(e,t,r){var n=A.isArray(t)?t:e.sortList;!1===(void 0===t?e.resort:t)||e.serverSideSorting||e.table.isProcessing?(k.resortComplete(e,r),k.applyWidget(e.table,!1)):n.length?k.sortOn(e,n,function(){k.resortComplete(e,r)},!0):k.sortReset(e,function(){k.resortComplete(e,r),k.applyWidget(e.table,!1)})},sortOn:function(e,t,r,n){var i,a=e.table;for(e.$table.triggerHandler("sortStart",a),i=0;i<e.columns;i++)e.sortVars[i].sortedBy=-1<k.isValueInArray(i,t)?"sorton":"";k.updateHeaderSortCount(e,t),k.setHeadersCss(e),e.delayInit&&k.isEmptyObject(e.cache)&&k.buildCache(e),e.$table.triggerHandler("sortBegin",a),k.multisort(e),k.appendCache(e,n),e.$table.triggerHandler("sortBeforeEnd",a),e.$table.triggerHandler("sortEnd",a),k.applyWidget(a),A.isFunction(r)&&r(a)},sortReset:function(e,t){var r;for(e.sortList=[],r=0;r<e.columns;r++)e.sortVars[r].count=-1,e.sortVars[r].sortedBy="";k.setHeadersCss(e),k.multisort(e),k.appendCache(e),A.isFunction(t)&&t(e.table)},getSortType:function(e,t){return e&&e[t]&&e[t].type||""},getOrder:function(e){return/^d/i.test(e)||1===e},sortNatural:function(e,t){if(e===t)return 0;e=(e||"").toString(),t=(t||"").toString();var r,n,i,a,s,o,l=k.regex;if(l.hex.test(t)){if((r=parseInt(e.match(l.hex),16))<(n=parseInt(t.match(l.hex),16)))return-1;if(n<r)return 1}for(r=e.replace(l.chunk,"\\0$1\\0").replace(l.chunks,"").split("\\0"),n=t.replace(l.chunk,"\\0$1\\0").replace(l.chunks,"").split("\\0"),o=Math.max(r.length,n.length),s=0;s<o;s++){if(i=isNaN(r[s])?r[s]||0:parseFloat(r[s])||0,a=isNaN(n[s])?n[s]||0:parseFloat(n[s])||0,isNaN(i)!==isNaN(a))return isNaN(i)?1:-1;if(typeof i!=typeof a&&(i+="",a+=""),i<a)return-1;if(a<i)return 1}return 0},sortNaturalAsc:function(e,t,r,n){if(e===t)return 0;var i=k.string[n.empties[r]||n.emptyTo];return""===e&&0!==i?"boolean"==typeof i?i?-1:1:-i||-1:""===t&&0!==i?"boolean"==typeof i?i?1:-1:i||1:k.sortNatural(e,t)},sortNaturalDesc:function(e,t,r,n){if(e===t)return 0;var i=k.string[n.empties[r]||n.emptyTo];return""===e&&0!==i?"boolean"==typeof i?i?-1:1:i||1:""===t&&0!==i?"boolean"==typeof i?i?1:-1:-i||-1:k.sortNatural(t,e)},sortText:function(e,t){return t<e?1:e<t?-1:0},getTextValue:function(e,t,r){if(r){for(var n=e?e.length:0,i=r+t,a=0;a<n;a++)i+=e.charCodeAt(a);return t*i}return 0},sortNumericAsc:function(e,t,r,n,i,a){if(e===t)return 0;var s=k.string[a.empties[i]||a.emptyTo];return""===e&&0!==s?"boolean"==typeof s?s?-1:1:-s||-1:""===t&&0!==s?"boolean"==typeof s?s?1:-1:s||1:(isNaN(e)&&(e=k.getTextValue(e,r,n)),isNaN(t)&&(t=k.getTextValue(t,r,n)),e-t)},sortNumericDesc:function(e,t,r,n,i,a){if(e===t)return 0;var s=k.string[a.empties[i]||a.emptyTo];return""===e&&0!==s?"boolean"==typeof s?s?-1:1:s||1:""===t&&0!==s?"boolean"==typeof s?s?1:-1:-s||-1:(isNaN(e)&&(e=k.getTextValue(e,r,n)),isNaN(t)&&(t=k.getTextValue(t,r,n)),t-e)},sortNumeric:function(e,t){return e-t},addWidget:function(e){e.id&&!k.isEmptyObject(k.getWidgetById(e.id))&&console.warn('"'+e.id+'" widget was loaded more than once!'),k.widgets[k.widgets.length]=e},hasWidget:function(e,t){return(e=A(e)).length&&e[0].config&&e[0].config.widgetInit[t]||!1},getWidgetById:function(e){for(var t,r=k.widgets.length,n=0;n<r;n++)if((t=k.widgets[n])&&t.id&&t.id.toLowerCase()===e.toLowerCase())return t},applyWidgetOptions:function(e){var t,r,n,i=e.config,a=i.widgets.length;if(a)for(t=0;t<a;t++)(r=k.getWidgetById(i.widgets[t]))&&r.options&&(n=A.extend(!0,{},r.options),i.widgetOptions=A.extend(!0,n,i.widgetOptions),A.extend(!0,k.defaults.widgetOptions,r.options))},addWidgetFromClass:function(e){var t,r,n=e.config,i="^"+n.widgetClass.replace(k.regex.templateName,"(\\S+)+")+"$",a=new RegExp(i,"g"),s=(e.className||"").split(k.regex.spaces);if(s.length)for(t=s.length,r=0;r<t;r++)s[r].match(a)&&(n.widgets[n.widgets.length]=s[r].replace(a,"$1"))},applyWidgetId:function(e,t,r){var n,i,a,s=(e=A(e)[0]).config,o=s.widgetOptions,l=k.debug(s,"core"),d=k.getWidgetById(t);d&&(a=d.id,n=!1,A.inArray(a,s.widgets)<0&&(s.widgets[s.widgets.length]=a),l&&(i=new Date),!r&&s.widgetInit[a]||(s.widgetInit[a]=!0,e.hasInitialized&&k.applyWidgetOptions(e),"function"==typeof d.init&&(n=!0,l&&console[console.group?"group":"log"]("Initializing "+a+" widget"),d.init(e,d,s,o))),r||"function"!=typeof d.format||(n=!0,l&&console[console.group?"group":"log"]("Updating "+a+" widget"),d.format(e,s,o,!1)),l&&n&&(console.log("Completed "+(r?"initializing ":"applying ")+a+" widget"+k.benchmark(i)),console.groupEnd&&console.groupEnd()))},applyWidget:function(e,t,r){var n,i,a,s,o,l=(e=A(e)[0]).config,d=k.debug(l,"core"),u=[];if(!1===t||!e.hasInitialized||!e.isApplyingWidgets&&!e.isUpdating){if(d&&(o=new Date),k.addWidgetFromClass(e),clearTimeout(l.timerReady),l.widgets.length){for(e.isApplyingWidgets=!0,l.widgets=A.grep(l.widgets,function(e,t){return A.inArray(e,l.widgets)===t}),i=(a=l.widgets||[]).length,n=0;n<i;n++)(s=k.getWidgetById(a[n]))&&s.id?(s.priority||(s.priority=10),u[n]=s):d&&console.warn('"'+a[n]+'" was enabled, but the widget code has not been loaded!');for(u.sort(function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1}),i=u.length,d&&console[console.group?"group":"log"]("Start "+(t?"initializing":"applying")+" widgets"),n=0;n<i;n++)(s=u[n])&&s.id&&k.applyWidgetId(e,s.id,t);d&&console.groupEnd&&console.groupEnd()}l.timerReady=setTimeout(function(){e.isApplyingWidgets=!1,A.data(e,"lastWidgetApplication",new Date),l.$table.triggerHandler("tablesorter-ready"),t||"function"!=typeof r||r(e),d&&(s=l.widgets.length,console.log("Completed "+(!0===t?"initializing ":"applying ")+s+" widget"+(1!==s?"s":"")+k.benchmark(o)))},10)}},removeWidget:function(e,t,r){var n,i,a,s,o=(e=A(e)[0]).config;if(!0===t)for(t=[],s=k.widgets.length,a=0;a<s;a++)(i=k.widgets[a])&&i.id&&(t[t.length]=i.id);else t=(A.isArray(t)?t.join(","):t||"").toLowerCase().split(/[\s,]+/);for(s=t.length,n=0;n<s;n++)i=k.getWidgetById(t[n]),0<=(a=A.inArray(t[n],o.widgets))&&!0!==r&&o.widgets.splice(a,1),i&&i.remove&&(k.debug(o,"core")&&console.log((r?"Refreshing":"Removing")+' "'+t[n]+'" widget'),i.remove(e,o,o.widgetOptions,r),o.widgetInit[t[n]]=!1);o.$table.triggerHandler("widgetRemoveEnd",e)},refreshWidgets:function(e,t,r){function n(e){A(e).triggerHandler("refreshComplete")}for(var i,a=(e=A(e)[0]).config.widgets,s=k.widgets,o=s.length,l=[],d=0;d<o;d++)(i=s[d])&&i.id&&(t||A.inArray(i.id,a)<0)&&(l[l.length]=i.id);k.removeWidget(e,l.join(","),!0),!0!==r?(k.applyWidget(e,t||!1,n),t&&k.applyWidget(e,!1,n)):n(e)},benchmark:function(e){return" ("+((new Date).getTime()-e.getTime())+" ms)"},log:function(){console.log(arguments)},debug:function(e,t){return e&&(!0===e.debug||"string"==typeof e.debug&&-1<e.debug.indexOf(t))},isEmptyObject:function(e){for(var t in e)return!1;return!0},isValueInArray:function(e,t){for(var r=t&&t.length||0,n=0;n<r;n++)if(t[n][0]===e)return n;return-1},formatFloat:function(e,t){return"string"!=typeof e||""===e?e:(e=(t&&t.config?!1!==t.config.usNumberFormat:void 0===t||t)?e.replace(k.regex.comma,""):e.replace(k.regex.digitNonUS,"").replace(k.regex.comma,"."),k.regex.digitNegativeTest.test(e)&&(e=e.replace(k.regex.digitNegativeReplace,"-$1")),r=parseFloat(e),isNaN(r)?A.trim(e):r);var r},isDigit:function(e){return isNaN(e)?k.regex.digitTest.test(e.toString().replace(k.regex.digitReplace,"")):""!==e},computeColumnIndex:function(e,t){for(var r,n,i,a,s,o,l,d,u,c=t&&t.columns||0,p=[],h=new Array(c),f=0;f<e.length;f++)for(s=e[f].cells,r=0;r<s.length;r++){for(o=f,l=(a=s[r]).rowSpan||1,d=a.colSpan||1,void 0===p[o]&&(p[o]=[]),n=0;n<p[o].length+1;n++)if(void 0===p[o][n]){u=n;break}for(c&&a.cellIndex===u||(a.setAttribute?a.setAttribute("data-column",u):A(a).attr("data-column",u)),n=o;n<o+l;n++)for(void 0===p[n]&&(p[n]=[]),h=p[n],i=u;i<u+d;i++)h[i]="x"}return k.checkColumnCount(e,p,h.length),h.length},checkColumnCount:function(e,t,r){for(var n,i=!0,a=[],s=0;s<t.length;s++)if(t[s]&&(n=t[s].length,t[s].length!==r)){i=!1;break}i||(e.each(function(e,t){var r=t.parentElement.nodeName;a.indexOf(r)<0&&a.push(r)}),console.error("Invalid or incorrect number of columns in the "+a.join(" or ")+"; expected "+r+", but found "+n+" columns"))},fixColumnWidth:function(e){var t,r,n,i,a,s=(e=A(e)[0]).config,o=s.$table.children("colgroup");if(o.length&&o.hasClass(k.css.colgroup)&&o.remove(),s.widthFixed&&0===s.$table.children("colgroup").length){for(o=A('<colgroup class="'+k.css.colgroup+'">'),t=s.$table.width(),i=(n=s.$tbodies.find("tr:first").children(":visible")).length,a=0;a<i;a++)r=parseInt(n.eq(a).width()/t*1e3,10)/10+"%",o.append(A("<col>").css("width",r));s.$table.prepend(o)}},getData:function(e,t,r){var n,i,a="",s=A(e);return s.length?(n=!!A.metadata&&s.metadata(),i=" "+(s.attr("class")||""),void 0!==s.data(r)||void 0!==s.data(r.toLowerCase())?a+=s.data(r)||s.data(r.toLowerCase()):n&&void 0!==n[r]?a+=n[r]:t&&void 0!==t[r]?a+=t[r]:" "!==i&&i.match(" "+r+"-")&&(a=i.match(new RegExp("\\s"+r+"-([\\w-]+)"))[1]||""),A.trim(a)):""},getColumnData:function(e,t,r,n,i){if("object"!=typeof t||null===t)return t;var a,s=(e=A(e)[0]).config,o=i||s.$headers,l=s.$headerIndexed&&s.$headerIndexed[r]||o.find('[data-column="'+r+'"]:last');if(void 0!==t[r])return n?t[r]:t[o.index(l)];for(a in t)if("string"==typeof a&&l.filter(a).add(l.find(a)).length)return t[a]},isProcessing:function(e,t,r){var n=(e=A(e))[0].config,i=r||e.find("."+k.css.header);t?(void 0!==r&&0<n.sortList.length&&(i=i.filter(function(){return!this.sortDisabled&&0<=k.isValueInArray(parseFloat(A(this).attr("data-column")),n.sortList)})),e.add(i).addClass(k.css.processing+" "+n.cssProcessing)):e.add(i).removeClass(k.css.processing+" "+n.cssProcessing)},processTbody:function(e,t,r){if(e=A(e)[0],r)return e.isProcessing=!0,t.before('<colgroup class="tablesorter-savemyplace"/>'),A.fn.detach?t.detach():t.remove();var n=A(e).find("colgroup.tablesorter-savemyplace");t.insertAfter(n),n.remove(),e.isProcessing=!1},clearTableBody:function(e){A(e)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"áàâãäąå",A:"ÁÀÂÃÄĄÅ",c:"çćč",C:"ÇĆČ",e:"éèêëěę",E:"ÉÈÊËĚĘ",i:"íìİîïı",I:"ÍÌİÎÏ",o:"óòôõöō",O:"ÓÒÔÕÖŌ",ss:"ß",SS:"ẞ",u:"úùûüů",U:"ÚÙÛÜŮ"},replaceAccents:function(e){var t,r="[",n=k.characterEquivalents;if(!k.characterRegex){for(t in k.characterRegexArray={},n)"string"==typeof t&&(r+=n[t],k.characterRegexArray[t]=new RegExp("["+n[t]+"]","g"));k.characterRegex=new RegExp(r+"]")}if(k.characterRegex.test(e))for(t in n)"string"==typeof t&&(e=e.replace(k.characterRegexArray[t],t));return e},validateOptions:function(e){var t,r,n,i,a="headers sortForce sortList sortAppend widgets".split(" "),s=e.originalSettings;if(s){for(t in k.debug(e,"core")&&(i=new Date),s)if("undefined"==(n=typeof k.defaults[t]))console.warn('Tablesorter Warning! "table.config.'+t+'" option not recognized');else if("object"===n)for(r in s[t])n=k.defaults[t]&&typeof k.defaults[t][r],A.inArray(t,a)<0&&"undefined"===n&&console.warn('Tablesorter Warning! "table.config.'+t+"."+r+'" option not recognized');k.debug(e,"core")&&console.log("validate options time:"+k.benchmark(i))}},restoreHeaders:function(e){for(var t,r=A(e)[0].config,n=r.$table.find(r.selectorHeaders),i=n.length,a=0;a<i;a++)(t=n.eq(a)).find("."+k.css.headerIn).length&&t.html(r.headerContent[a])},destroy:function(e,t,r){var n,i,a,s,o,l;(e=A(e)[0]).hasInitialized&&(k.removeWidget(e,!0,!1),i=A(e),a=e.config,o=(s=i.find("thead:first")).find("tr."+k.css.headerRow).removeClass(k.css.headerRow+" "+a.cssHeaderRow),l=i.find("tfoot:first > tr").children("th, td"),!1===t&&0<=A.inArray("uitheme",a.widgets)&&(i.triggerHandler("applyWidgetId",["uitheme"]),i.triggerHandler("applyWidgetId",["zebra"])),s.find("tr").not(o).remove(),n="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(a.namespace+" "),i.removeData("tablesorter").unbind(n.replace(k.regex.spaces," ")),a.$headers.add(l).removeClass([k.css.header,a.cssHeader,a.cssAsc,a.cssDesc,k.css.sortAsc,k.css.sortDesc,k.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),o.find(a.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(a.namespace+" ").replace(k.regex.spaces," ")),k.restoreHeaders(e),i.toggleClass(k.css.table+" "+a.tableClass+" tablesorter-"+a.theme,!1===t),i.removeClass(a.namespace.slice(1)),e.hasInitialized=!1,delete e.config.cache,"function"==typeof r&&r(e),k.debug(a,"core")&&console.log("tablesorter has been removed"))}};A.fn.tablesorter=function(t){return this.each(function(){var e=A.extend(!0,{},k.defaults,t,k.instanceMethods);e.originalSettings=t,!this.hasInitialized&&k.buildTable&&"TABLE"!==this.nodeName?k.buildTable(this,e):k.setup(this,e)})},window.console&&window.console.log||(k.logs=[],console={},console.log=console.warn=console.error=console.table=function(){var e=1<arguments.length?arguments:arguments[0];k.logs[k.logs.length]={date:Date.now(),log:e}}),k.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),k.addParser({id:"text",is:function(){return!0},format:function(e,t){var r=t.config;return e&&(e=A.trim(r.ignoreCase?e.toLocaleLowerCase():e),e=r.sortLocaleCompare?k.replaceAccents(e):e),e},type:"text"}),k.regex.nondigit=/[^\w,. \-()]/g,k.addParser({id:"digit",is:function(e){return k.isDigit(e)},format:function(e,t){var r=k.formatFloat((e||"").replace(k.regex.nondigit,""),t);return e&&"number"==typeof r?r:e?A.trim(e&&t.config.ignoreCase?e.toLocaleLowerCase():e):e},type:"numeric"}),k.regex.currencyReplace=/[+\-,. ]/g,k.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,k.addParser({id:"currency",is:function(e){return e=(e||"").replace(k.regex.currencyReplace,""),k.regex.currencyTest.test(e)},format:function(e,t){var r=k.formatFloat((e||"").replace(k.regex.nondigit,""),t);return e&&"number"==typeof r?r:e?A.trim(e&&t.config.ignoreCase?e.toLocaleLowerCase():e):e},type:"numeric"}),k.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,k.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/,k.addParser({id:"url",is:function(e){return k.regex.urlProtocolTest.test(e)},format:function(e){return e?A.trim(e.replace(k.regex.urlProtocolReplace,"")):e},type:"text"}),k.regex.dash=/-/g,k.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,k.addParser({id:"isoDate",is:function(e){return k.regex.isoDate.test(e)},format:function(e){var t=e?new Date(e.replace(k.regex.dash,"/")):e;return t instanceof Date&&isFinite(t)?t.getTime():e},type:"numeric"}),k.regex.percent=/%/g,k.regex.percentTest=/(\d\s*?%|%\s*?\d)/,k.addParser({id:"percent",is:function(e){return k.regex.percentTest.test(e)&&e.length<15},format:function(e,t){return e?k.formatFloat(e.replace(k.regex.percent,""),t):e},type:"numeric"}),k.addParser({id:"image",is:function(e,t,r,n){return 0<n.find("img").length},format:function(e,t,r){return A(r).find("img").attr(t.config.imgAttr||"alt")||e},parsed:!0,type:"text"}),k.regex.dateReplace=/(\S)([AP]M)$/i,k.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,k.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,k.addParser({id:"usLongDate",is:function(e){return k.regex.usLongDateTest1.test(e)||k.regex.usLongDateTest2.test(e)},format:function(e){var t=e?new Date(e.replace(k.regex.dateReplace,"$1 $2")):e;return t instanceof Date&&isFinite(t)?t.getTime():e},type:"numeric"}),k.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,k.regex.shortDateReplace=/[\-.,]/g,k.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,k.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,k.convertFormat=function(e,t){e=(e||"").replace(k.regex.spaces," ").replace(k.regex.shortDateReplace,"/"),"mmddyyyy"===t?e=e.replace(k.regex.shortDateXXY,"$3/$1/$2"):"ddmmyyyy"===t?e=e.replace(k.regex.shortDateXXY,"$3/$2/$1"):"yyyymmdd"===t&&(e=e.replace(k.regex.shortDateYMD,"$1/$2/$3"));var r=new Date(e);return r instanceof Date&&isFinite(r)?r.getTime():""},k.addParser({id:"shortDate",is:function(e){return e=(e||"").replace(k.regex.spaces," ").replace(k.regex.shortDateReplace,"/"),k.regex.shortDateTest.test(e)},format:function(e,t,r,n){if(e){var i=t.config,a=i.$headerIndexed[n],s=a.length&&a.data("dateFormat")||k.getData(a,k.getColumnData(t,i.headers,n),"dateFormat")||i.dateFormat;return a.length&&a.data("dateFormat",s),k.convertFormat(e,s)||e}return e},type:"numeric"}),k.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,k.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,k.addParser({id:"time",is:function(e){return k.regex.timeTest.test(e)},format:function(e){var t=(e||"").match(k.regex.timeMatch),r=new Date(e),n=e&&(null!==t?t[0]:"00:00 AM"),i=n?new Date("2000/01/01 "+n.replace(k.regex.dateReplace,"$1 $2")):n;return i instanceof Date&&isFinite(i)?r instanceof Date&&isFinite(r)&&r.getTime()?parseFloat(i.getTime()+"."+r.getTime()):i.getTime():e},type:"numeric"}),k.addParser({id:"metadata",is:function(){return!1},format:function(e,t,r){var n=t.config,i=n.parserMetadataName?n.parserMetadataName:"sortValue";return A(r).metadata()[i]},type:"numeric"}),k.addWidget({id:"zebra",priority:90,format:function(e,t,r){for(var n,i,a,s,o,l,d=new RegExp(t.cssChildRow,"i"),u=t.$tbodies.add(A(t.namespace+"_extra_table").children("tbody:not(."+t.cssInfoBlock+")")),c=0;c<u.length;c++)for(a=0,l=(n=u.eq(c).children("tr:visible").not(t.selectorRemove)).length,o=0;o<l;o++)i=n.eq(o),d.test(i[0].className)||a++,s=a%2==0,i.removeClass(r.zebra[s?1:0]).addClass(r.zebra[s?0:1])},remove:function(e,t,r,n){if(!n)for(var i,a=t.$tbodies,s=(r.zebra||["even","odd"]).join(" "),o=0;o<a.length;o++)(i=k.processTbody(e,a.eq(o),!0)).children().removeClass(s),k.processTbody(e,i,!1)}})}(e),e.tablesorter});var site={init:function(){site.introPane(),site.eventListing(),site.eventPopups(),site.rewardPopups(),site.popupForms(),site.saveFormValues(),site.cartSetup(),site.checkoutSetup(),site.emailSignup(),$(".inplace").autoHideLabels()},localStorageSupport:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}(),introPane:function(){var e,t=$("#home-pane");t.length&&800<$(window).width()&&1!=$.cookie("seen_intro")&&($("body").addClass("show-pane"),(e=new Date).setTime(e.getTime()+36e5),$.cookie("seen_intro",1,{expires:e}),t.on("click",function(e){e.preventDefault(),$("body").toggleClass("show-pane hide-pane")}))},eventListing:function(){var r,n,i,e=$("#events");function a(){n<i&&(n++,t(!0))}function s(){0<n&&(n--,t(!0))}function t(e){r.removeClass("prevMonth currentMonth nextMonth").find(".monthName").off("click");var t=r.eq(n).addClass("currentMonth").attr("id");e&&history.replaceState&&window.history.replaceState(null,"","#"+t),0<n&&r.eq(n-1).addClass("prevMonth").find(".monthName").one("click",s),n<i&&r.eq(n+1).addClass("nextMonth").find(".monthName").one("click",a)}function o(){""!==window.location.hash&&(n=$(window.location.hash).index(),t(),$(window).scrollTop(0))}0!==e.length&&(r=e.children(),n=0,i=r.length,t(),(window.onpopstate=o)())},eventPopups:function(){var r,a=$('<div class="lightbox"/>');$("body").on("click","a[data-popup]",function(e){var i,t;$(window).width()<640||(e.preventDefault(),a.trigger("close"),r&&r.abort(),i=$(this).attr("href"),t=$(this).parent().addClass("loading"),r=$.ajax({url:i,cache:!1}).done(function(e){var t,r=$("<div>").append($.parseHTML(e)),n=r.find("#event");a.html(n).prepend('<a href="#" class="close">&times;</a>').lightbox_me({centered:!0,overlayCSS:{background:"black",opacity:.8}}),a.find(".inplace").autoHideLabels(),site.saveFormValues(a),"undefined"!=typeof ga&&(t=r.find("title").text(),ga("send","pageview",{page:i,title:t}))}).fail(function(){alert("Could not load the event details.")}).always(function(){t.removeClass("loading")}))})},rewardPopups:function(){var r=$('<div class="lightbox"/>');$("body").on("click","a[data-popup-inline]",function(e){e.preventDefault(),r.trigger("close");var t=$($(this).attr("href")).clone();r.html(t).prepend('<a href="#" class="close">&times;</a>').lightbox_me({centered:!0,overlayCSS:{background:"black",opacity:.8}}).find("form").parsley()})},popupForms:function(){function i(){$(".popup-form").removeClass("open"),$("body").off("click",i)}$("body").on("click","[data-popup-form]",function(e){var n=$($(this).attr("href"));n.addClass("open").parsley(),$("body").one("click",i),n.filter("[data-ajax-submit]").submit(function(e){e.preventDefault();var t=n.attr("action"),r=n.serialize();$.post(t,r,function(e){alert(e.error||n.attr("data-ajax-submit"))}),i()}),setTimeout(function(){n.find('input[type!="hidden"]').eq(0).focus()},10),e.preventDefault()}),$("body").on("click",".popup-form",function(e){e.stopPropagation()})},saveFormValues:function(e){site.localStorageSupport&&(e=e||$("body"),$("input[data-save-value]",e).each(function(){""==this.value&&(this.value=localStorage.getItem(this.name),$(this).trigger("change")),$(this).on("blur",function(){localStorage.setItem(this.name,this.value)})}))},cartSetup:function(){var n,i,e=$("#cart");e.length&&(e.on("click",".btn-edit",function(){var e=$(this).closest(".attendee"),t=e.find(".edit-attendee");validator=t.parsley(),e.addClass("editing"),t.on("click",".cancel",function(){e.removeClass("editing")})}),$("#btn-checkout").on("click",function(e){if($("[data-incomplete]").length)return alert("You must enter contact information for at least one person who will be attending each event."),!1}),n=$("[data-expires]"),i=!1,setInterval(function(){var r=Math.round(Date.now()/1e3)+10;n.each(function(){var e=$(this),t=e.data("expires");t&&t<r?(n=n.not(e),$("#messages").html('<div class="message">An item in your cart expired and is being removed.</div>'),$.post("/actions/registrar/registration/remove",{id:e.data("id")},function(){$("#main").load("/cart"),i=!1})):t<=r+20&&!i&&($("#messages").html('<div class="message">An item in your cart is about to expire. This page will refresh in a few seconds.</div>'),i=!0)})},2e3))},checkoutSetup:function(){var s=$("#checkout-form");function o(e){var t;"Error"===e.messages.resultCode?(t="",e.messages.message.forEach(function(e){t=e.text+"\n"}),alert(t),s.find("button").prop("disabled",!1)):(s.append($('<input type="hidden" name="token" />').val(e.opaqueData.dataValue)),s.get(0).submit())}$("#cc-number").length&&"undefined"!=typeof Accept&&void 0!==window.authData&&($("#cc-number").payment("formatCardNumber"),$("#cc-exp").payment("formatCardExpiry"),$("#cc-cvc").payment("formatCardCVC"),s.parsley(),s.parsley().on("form:success",function(e){e.submitEvent.preventDefault(),s.find("button").prop("disabled",!0);var t=$("#cc-number").val().replace(/\s+/g,""),r=$("#cc-exp").payment("cardExpiryVal"),n=r.month<10?"0"+r.month:r.month,i=r.year.toString().substr(-2),a={authData:window.authData,cardData:{cardNumber:t,month:n,year:i,cardCode:$("#cc-cvc").val(),zip:$("#zip").val(),fullName:$("#firstname-input").val()+" "+$("#lastname-input").val()}};Accept.dispatchData(a,o)}))},emailSignup:function(){$("#signup-form").on("submit",function(e){e.preventDefault(),$.post("/",$(this).serialize(),function(e){e.success?alert("Thanks for your interest!"):alert(e.message)})})}};window.Parsley.addValidator("cc",function(e,t){return $.payment.validateCardNumber(e)},32).addMessage("en","cc","Please enter a valid credit card number."),window.Parsley.addValidator("expiry",function(e,t){return e=$.payment.cardExpiryVal(e),$.payment.validateCardExpiry(e)},32).addMessage("en","expiry","This is not a valid expiration date."),window.Parsley.addValidator("cvc",function(e,t){return $.payment.validateCardCVC(e)},32).addMessage("en","cvc","The 3- or 4-digit security code on the back of your card."),$(document).ready(site.init);